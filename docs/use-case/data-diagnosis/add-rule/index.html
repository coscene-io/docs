<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-use-case/data-diagnosis/add-rule" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Add Rule | coScene</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.coscene.io/docs/use-case/data-diagnosis/add-rule"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Add Rule | coScene"><meta data-rh="true" name="description" content="On the Data Collection &amp; Diagnosis Rules page, rules can be added to achieve automatic monitoring and collection of project device data."><meta data-rh="true" property="og:description" content="On the Data Collection &amp; Diagnosis Rules page, rules can be added to achieve automatic monitoring and collection of project device data."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.coscene.io/docs/use-case/data-diagnosis/add-rule"><link data-rh="true" rel="alternate" href="https://docs.coscene.io/docs/use-case/data-diagnosis/add-rule" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.coscene.io/docs/use-case/data-diagnosis/add-rule" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://1TFD6DKASB-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="coScene" href="/opensearch.xml">


<script src="https://plausible.io/js/script.js" defer="defer" data-domain="docs.coscene.io"></script><link rel="stylesheet" href="/assets/css/styles.5ec505d5.css">
<script src="/assets/js/runtime~main.3e3cae3d.js" defer="defer"></script>
<script src="/assets/js/main.3dba187e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fFqs" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="coScene Logo" class="themedComponent_C_jU themedComponent--light_m4S8" width="135px"><img src="/img/logo.svg" alt="coScene Logo" class="themedComponent_C_jU themedComponent--dark_Myeh" width="135px"></div><b class="navbar__title text--truncate">coScene</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview">Documentation</a><a class="navbar__item navbar__link" href="/changelog">Changelog</a></div><div class="navbar__items navbar__items--right"><a href="https://www.coscene.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_neYC"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/coscene-io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_neYC"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://petstore.swagger.io/?url=https://download.coscene.io/openapi/openapi.yaml" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">OpenAPI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_neYC"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_a_6C colorModeToggle_J443"><button class="clean-btn toggleButton_Awl7 toggleButtonDisabled_Ba6s" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon__mnx"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_MIV2"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_s6md"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_Zou0"><div class="docsWrapper_gj61"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RJf3" type="button"></button><div class="docRoot_cSdb"><aside class="theme-doc-sidebar-container docSidebarContainer_NrA3"><div class="sidebarViewport_uDSC"><div class="sidebar_UzRq"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_P4xq"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/getting-started">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/collaboration">Collaboration</a><button aria-label="Expand sidebar category &#x27;Collaboration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/viz">Visualization</a><button aria-label="Expand sidebar category &#x27;Visualization&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/device">Device Management</a><button aria-label="Expand sidebar category &#x27;Device Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/workflow">Automation</a><button aria-label="Expand sidebar category &#x27;Automation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/sim-and-tests">Sim &amp; Test</a><button aria-label="Expand sidebar category &#x27;Sim &amp; Test&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/developer">Developers</a><button aria-label="Expand sidebar category &#x27;Developers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/use-case">Use Cases</a><button aria-label="Collapse sidebar category &#x27;Use Cases&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-case/common-task">General Data Collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-case/automated-data-processing">Automated Data Processing</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/category/data-collection-and-diagnosis">Data Collection and Diagnose</a><button aria-label="Collapse sidebar category &#x27;Data Collection and Diagnose&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-case/data-diagnosis/intro">About Automatic Data Collection and Diagnosis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-case/data-diagnosis/get-started">Set Up Your Data Collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/use-case/data-diagnosis/add-rule">Add Rule</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-case/data-diagnosis/manage-rule-group">Managing Rule Groups</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/image">Docker Images</a><button aria-label="Expand sidebar category &#x27;Docker Images&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/client">Desktop Apps</a><button aria-label="Expand sidebar category &#x27;Desktop Apps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/browser-support">Browser Support</a></li></ul></nav></div></div></aside><main class="docMainContainer__ioz"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_gF9I"><div class="docItemContainer_UoQR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_gY0M" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_SXnt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/use-case"><span itemprop="name">Use Cases</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/data-collection-and-diagnosis"><span itemprop="name">Data Collection and Diagnose</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Add Rule</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_KBfb theme-doc-toc-mobile tocMobile_ww0a"><button type="button" class="clean-btn tocCollapsibleButton_BorF">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Add Rule</h1></header>
<p>On the Data Collection &amp; Diagnosis Rules page, rules can be added to achieve automatic monitoring and collection of project device data.</p>
<h2 class="anchor anchorWithStickyNavbar_KjY7" id="permission-explanation">Permission Explanation<a href="#permission-explanation" class="hash-link" aria-label="Direct link to Permission Explanation" title="Direct link to Permission Explanation">​</a></h2>
<blockquote>
<p>Only <strong>Project Administrators</strong> and <strong>Organization Administrators</strong> have the right to add and edit rules; other permission roles can only view the rule content.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_KjY7" id="specific-data-format">Specific Data Format<a href="#specific-data-format" class="hash-link" aria-label="Direct link to Specific Data Format" title="Direct link to Specific Data Format">​</a></h2>
<p>Platform rules only apply to data in specific formats, which must include message, timestamp, topic, and message type, and belong to streaming data.</p>
<p>The supported timestamp formats for log text files are as follows:</p>
<table><thead><tr><th>Timestamp Type</th><th>Timestamp Format</th><th>Example</th></tr></thead><tbody><tr><td>Regular file timestamp</td><td>%m%d %H:%M:%S.%f</td><td>0212 12:12:12.548513</td></tr><tr><td></td><td>%b %d %H:%M:%S</td><td>Dec 12 12:12:12</td></tr><tr><td></td><td>%Y-%m-%d %H:%M:%S.%f</td><td>2023-02-12 12:12:12.548513</td></tr><tr><td></td><td>%H:%M:%S.%f</td><td>12:12:12.548513</td></tr><tr><td>Special <em>filename / first line of the file&#x27;s timestamp</em> (for cases where the year, month, day, hour, minute, and second are not fully included in the file)</td><td>%Y-%m-%d %H:%M:%S</td><td>2023-02-12 12:12:12</td></tr><tr><td></td><td>%Y/%m/%d %H:%M:%S</td><td>2023/02/12 12:12:12</td></tr><tr><td></td><td>%Y%m%d%H</td><td>2023021212</td></tr></tbody></table>
<p>If there are other timestamp formats that need to be supported, please contact us.</p>
<h2 class="anchor anchorWithStickyNavbar_KjY7" id="rule-group">Rule Group<a href="#rule-group" class="hash-link" aria-label="Direct link to Rule Group" title="Direct link to Rule Group">​</a></h2>
<p>A rule group is a collection of rules used for categorizing and managing rules.</p>
<h3 class="anchor anchorWithStickyNavbar_KjY7" id="1-add-rule-group">1. Add Rule Group<a href="#1-add-rule-group" class="hash-link" aria-label="Direct link to 1. Add Rule Group" title="Direct link to 1. Add Rule Group">​</a></h3>
<p>In the project, go to the &quot;Data Collection &amp; Diagnosis Rules&quot; tab, click on &quot;Add Rule Group.&quot; After successful addition, specific rules can be added within that rule group.</p>
<p><img decoding="async" loading="lazy" alt="Add Rule Group" src="/assets/images/add-rule-group-9aaedd05ef3def9f8445144ca199e1e3.png" width="3050" height="1718" class="img_x_63"></p>
<h3 class="anchor anchorWithStickyNavbar_KjY7" id="2-enable-and-disable-rule-group">2. Enable and Disable Rule Group<a href="#2-enable-and-disable-rule-group" class="hash-link" aria-label="Direct link to 2. Enable and Disable Rule Group" title="Direct link to 2. Enable and Disable Rule Group">​</a></h3>
<p>Newly added rule groups are disabled by default. To allow project devices to use the rules for data monitoring, they must be manually enabled.</p>
<p>If temporarily not needed but will be used later, they can also be set to &quot;disabled.&quot;</p>
<p><img decoding="async" loading="lazy" alt="Enable and Disable Rule Group" src="/assets/images/rule-group-toggle-0ed6a027864d45f0460e8fe2ff4a43de.png" width="3044" height="1082" class="img_x_63"></p>
<h3 class="anchor anchorWithStickyNavbar_KjY7" id="3-rule-group-management">3. Rule Group Management<a href="#3-rule-group-management" class="hash-link" aria-label="Direct link to 3. Rule Group Management" title="Direct link to 3. Rule Group Management">​</a></h3>
<p>In more operations, you can rename and delete rule groups.</p>
<p><img decoding="async" loading="lazy" alt="Rule Group Management" src="/assets/images/rule-group-management-327bb4ce3a5a476984f41db57f8d3989.png" width="3052" height="942" class="img_x_63"></p>
<h2 class="anchor anchorWithStickyNavbar_KjY7" id="rule-creation-and-configuration">Rule Creation and Configuration<a href="#rule-creation-and-configuration" class="hash-link" aria-label="Direct link to Rule Creation and Configuration" title="Direct link to Rule Creation and Configuration">​</a></h2>
<p>A rule is a single rule within a rule group, used to define the conditions for triggering data collection and diagnosis, as well as the actions taken afterward.</p>
<h3 class="anchor anchorWithStickyNavbar_KjY7" id="add-rule-1">Add Rule<a href="#add-rule-1" class="hash-link" aria-label="Direct link to Add Rule" title="Direct link to Add Rule">​</a></h3>
<p>In the rule group, you can add a new rule by clicking &quot;Create Blank Rule&quot; or &quot;Create from Rule Template.&quot; Below, we mainly introduce the steps for creating a blank rule.</p>
<p><img decoding="async" loading="lazy" alt="Add Rule" src="/assets/images/add-rule-76112db440cd81a88297894d4e27c49e.png" width="3050" height="1030" class="img_x_63"></p>
<h3 class="anchor anchorWithStickyNavbar_KjY7" id="basic-information">Basic Information<a href="#basic-information" class="hash-link" aria-label="Direct link to Basic Information" title="Direct link to Basic Information">​</a></h3>
<p>Name the rule; the rule name is used to distinguish different rules for easier management and identification later.</p>
<p><img decoding="async" loading="lazy" alt="Rule Basic Information" src="/assets/images/rule-basic-info-d51cb3489beaf0d07d376c8c5a0aecb9.png" width="3052" height="1238" class="img_x_63"></p>
<h3 class="anchor anchorWithStickyNavbar_KjY7" id="device-event-monitoring">Device Event Monitoring<a href="#device-event-monitoring" class="hash-link" aria-label="Direct link to Device Event Monitoring" title="Direct link to Device Event Monitoring">​</a></h3>
<blockquote>
<p><strong>Module Illustration</strong></p>
<p>This module monitors project devices. When new files are present in the pre-set monitoring directory or new messages matching the <a href="https://github.com/coscene-io/coListener" target="_blank" rel="noopener noreferrer">coListener</a> listening topic are installed, events will be automatically reported and recorded in the current project&#x27;s dashboard.</p>
</blockquote>
<p><img decoding="async" loading="lazy" alt="Device Event Monitoring" src="/assets/images/device-event-monitoring-d880426de5de5c9ae1bb9ce859b3a373.png" width="3046" height="1406" class="img_x_63"></p>
<h4 class="anchor anchorWithStickyNavbar_KjY7" id="1-topics-of-interest">1. Topics of Interest<a href="#1-topics-of-interest" class="hash-link" aria-label="Direct link to 1. Topics of Interest" title="Direct link to 1. Topics of Interest">​</a></h4>
<ul>
<li>
<p>Setting the topics of interest can narrow the rule matching range, improving the performance, speed, and accuracy of rule diagnosis.</p>
</li>
<li>
<p>If you want to monitor log-type files in the device, please select <code>/external_log</code>.</p>
</li>
<li>
<p>Other topic options can be set in the organization&#x27;s data collection client configuration. For details, please refer to the <a href="https://coscene0.feishu.cn/wiki/S3kvw7wYmic1LxkzBPxcLExHntc?fromScene=spaceOverview" target="_blank" rel="noopener noreferrer">4-Data Collection Client Configuration</a> document.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_KjY7" id="32-event-code-table-matching">3.2 Event Code Table Matching<a href="#32-event-code-table-matching" class="hash-link" aria-label="Direct link to 3.2 Event Code Table Matching" title="Direct link to 3.2 Event Code Table Matching">​</a></h4>
<ul>
<li>
<p>In the event code table, you can define the code value, event name, level, solution, and other information for the event. The event code table must include a code column as the unique identifier for the event.</p>
</li>
<li>
<p>After uploading the event code table (supports JSON or CSV files), the system will automatically parse it and also supports previewing, downloading, and deleting operations. If you want to modify the table content, you can download it to your local computer, make changes, and then upload it again.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Event Code Table" src="/assets/images/event-code-table-de7c225c252a54600bcda839bd45a1fc.png" width="3042" height="1376" class="img_x_63"></p>
<h4 class="anchor anchorWithStickyNavbar_KjY7" id="33-event-matching-conditions">3.3 Event Matching Conditions<a href="#33-event-matching-conditions" class="hash-link" aria-label="Direct link to 3.3 Event Matching Conditions" title="Direct link to 3.3 Event Matching Conditions">​</a></h4>
<ul>
<li>
<p>Determine whether an event is triggered based on the matching relationship between the device message fields and a certain value.</p>
</li>
<li>
<p>Click the &quot;Switch&quot; button to toggle between the code header and the specific value input box.</p>
</li>
<li>
<p>In the predefined input box, the code value from the event code table is set as the matching variable.</p>
</li>
<li>
<p>In the specific value input box, directly input text information.</p>
</li>
<li>
<p>To check if the log file contains the keyword &quot;error 1,&quot; you need to fill in: <code>msg.message contains error 1</code>, and the &quot;Topics of Interest&quot; section needs to select <code>/external_log</code>.</p>
</li>
<li>
<p>To check if the <code>msg.data</code> message field in the <code>/error_code</code> topic (message type is <code>std_msgs/string</code>) of the bag file contains the keyword &quot;error 1,&quot; you need to fill in: <code>msg.data contains error 1</code>.</p>
</li>
<li>
<p>Multi-line logical judgment conditions are in an &quot;AND&quot; relationship and must all be met to take effect.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Event Matching Conditions" src="/assets/images/event-match-condition-9905e7b93f8a2af5fd18d8ab4be35ea8.png" width="3034" height="1388" class="img_x_63"></p>
<h4 class="anchor anchorWithStickyNavbar_KjY7" id="34-event-deduplication-duration">3.4 Event Deduplication Duration<a href="#34-event-deduplication-duration" class="hash-link" aria-label="Direct link to 3.4 Event Deduplication Duration" title="Direct link to 3.4 Event Deduplication Duration">​</a></h4>
<ul>
<li>
<p>If a new event (the same event) occurs within the set time after the last merged event, it will be merged with the original event. Each time a new event occurs, the time is reset until no new events occur beyond the time window, completing the merge.</p>
</li>
<li>
<p>The supported range is set between 1 second and 86400 seconds (1 day).</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Event Deduplication Settings" src="/assets/images/event-deduplication-5974a1f6ec414261d0133fb86314c09e.png" width="3072" height="760" class="img_x_63"></p>
<h3 class="anchor anchorWithStickyNavbar_KjY7" id="trigger-operations">Trigger Operations<a href="#trigger-operations" class="hash-link" aria-label="Direct link to Trigger Operations" title="Direct link to Trigger Operations">​</a></h3>
<p>Trigger operations refer to the actions taken after the rule conditions are met. Currently, data collection and data diagnosis modules are supported.</p>
<h4 class="anchor anchorWithStickyNavbar_KjY7" id="1-data-collection">1. Data Collection<a href="#1-data-collection" class="hash-link" aria-label="Direct link to 1. Data Collection" title="Direct link to 1. Data Collection">​</a></h4>
<ul>
<li>After the rule conditions are triggered on the device side, a data collection task will be automatically created in this project, collecting device data for the corresponding time. After the collection is completed, a record will be generated in the logs, containing the data when the trigger conditions were met.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Data Collection Configuration 1" src="/assets/images/data-collection-1-b4715883f4ebe6d2d71725ff1698394d.png" width="3034" height="1360" class="img_x_63"></p>
<p><img decoding="async" loading="lazy" alt="Data Collection Configuration 2" src="/assets/images/data-collection-2-1715e9c8de053b9085a8cc74d74f047a.png" width="3042" height="1714" class="img_x_63"></p>
<ul>
<li>
<p>You can set the time range for uploaded files, record names, record descriptions, record tags, and collection limits.</p>
</li>
<li>
<p>Uploaded files refer to all files in the data collection directory that meet the time range.</p>
</li>
<li>
<p>Record names and descriptions support using code variables (using the format <code>{scope.header_name}</code>) interspersed with text.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Data Collection Configuration 3" src="/assets/images/data-collection-3-feb03b536465bc920d98982477ce76f3.png" width="3054" height="1604" class="img_x_63"></p>
<ul>
<li>
<p>In more settings, you can use <a href="https://www.malikbrowne.com/blog/a-beginners-guide-glob-patterns/" target="_blank" rel="noopener noreferrer">file wildcards</a> for secondary filtering.</p>
</li>
<li>
<p>If there are specific additional files, such as map files, you can specify the exact file location here.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Data Collection Configuration 4" src="/assets/images/data-collection-4-a406782382d81ae6b46011f1d464428c.png" width="3034" height="1214" class="img_x_63"></p>
<h4 class="anchor anchorWithStickyNavbar_KjY7" id="32-data-diagnosis">3.2 Data Diagnosis<a href="#32-data-diagnosis" class="hash-link" aria-label="Direct link to 3.2 Data Diagnosis" title="Direct link to 3.2 Data Diagnosis">​</a></h4>
<ul>
<li>Perform data diagnosis actions on records that have already been collected on the platform. The time points that meet the trigger conditions will automatically create a moment, which can be viewed in the records after collection.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Data Diagnosis Configuration" src="/assets/images/data-diagnosis-980fa90a74efc34a2fa60987909a999e.png" width="3340" height="1138" class="img_x_63"></p>
<ul>
<li>
<p>Supports setting moment names, moment descriptions, moment attribute values, and whether to create associated general tasks for the diagnosed moment for circulation.</p>
</li>
<li>
<p>Moment names, moment descriptions, and moment attribute values support using code variables (using the format <code>{scope.header_name}</code>) interspersed with text.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Diagnosis Settings" src="/assets/images/diagnosis-settings-b5b6e80a698228f7334f4aeba3e88010.png" width="3060" height="1564" class="img_x_63"></p>
<h3 class="anchor anchorWithStickyNavbar_KjY7" id="usage-of-code-variables">Usage of Code Variables<a href="#usage-of-code-variables" class="hash-link" aria-label="Direct link to Usage of Code Variables" title="Direct link to Usage of Code Variables">​</a></h3>
<p>In the trigger operations of the rules, some text input boxes can use code variables to obtain relevant data values at the time of triggering. The writing specifications can refer to the following table:</p>
<table><thead><tr><th>Meaning</th><th>Writing Specification</th><th>Example of Effect After Translation</th></tr></thead><tbody><tr><td>Call the code value of the event code table uploaded to the rule</td><td><code>{scope.code}</code></td><td><code>ERROR-CODE-001</code></td></tr><tr><td>Call other column values of the event code table uploaded to the rule</td><td><code>{scope.solution}</code> Note: The header name must be in English and without spaces</td><td><code>Try restarting the device</code></td></tr><tr><td></td><td><code>{msg}</code></td><td><code>{&quot;timestamp&quot;: {&quot;sec&quot;: 123456, &quot;nsec&quot;: 789}, &quot;message&quot;: &quot;demo log message&quot;, &quot;file&quot;: &quot;demo.log&quot;, &quot;level&quot;: 2}</code></td></tr><tr><td></td><td><code>{topic}</code></td><td><code>/external_log</code></td></tr><tr><td></td><td><code>{ts}</code></td><td><code>1738915780.123</code></td></tr></tbody></table>
<hr>
<p>After completing the rule content filling, click the save button to add the project rule, achieving automatic monitoring and collection of project device data.</p>
<p>If you have any questions during the operation, feel free to contact us for assistance.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_nL3k"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-04-28T02:17:54.000Z" itemprop="dateModified">Apr 28, 2025</time></b> by <b>Woodii</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/use-case/data-diagnosis/get-started"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Set Up Your Data Collection</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/use-case/data-diagnosis/manage-rule-group"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Managing Rule Groups</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_Akam thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#permission-explanation" class="table-of-contents__link toc-highlight">Permission Explanation</a></li><li><a href="#specific-data-format" class="table-of-contents__link toc-highlight">Specific Data Format</a></li><li><a href="#rule-group" class="table-of-contents__link toc-highlight">Rule Group</a><ul><li><a href="#1-add-rule-group" class="table-of-contents__link toc-highlight">1. Add Rule Group</a></li><li><a href="#2-enable-and-disable-rule-group" class="table-of-contents__link toc-highlight">2. Enable and Disable Rule Group</a></li><li><a href="#3-rule-group-management" class="table-of-contents__link toc-highlight">3. Rule Group Management</a></li></ul></li><li><a href="#rule-creation-and-configuration" class="table-of-contents__link toc-highlight">Rule Creation and Configuration</a><ul><li><a href="#add-rule-1" class="table-of-contents__link toc-highlight">Add Rule</a></li><li><a href="#basic-information" class="table-of-contents__link toc-highlight">Basic Information</a></li><li><a href="#device-event-monitoring" class="table-of-contents__link toc-highlight">Device Event Monitoring</a></li><li><a href="#trigger-operations" class="table-of-contents__link toc-highlight">Trigger Operations</a></li><li><a href="#usage-of-code-variables" class="table-of-contents__link toc-highlight">Usage of Code Variables</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Legel</div><ul class="footer__items clean-list"><li class="footer__item"><a href="/legal/privacy" class="footer__link-item" target="_blank">Privacy Policy</a></li><li class="footer__item"><a href="/legal/terms" class="footer__link-item" target="_blank">Terms of Service</a></li></ul></div><div class="col footer__col"><div class="footer__title">Data Security</div><ul class="footer__items clean-list"><li class="footer__item"><a href="/security/security-white-paper" class="footer__link-item" target="_blank">coScene Data Security White Paper</a></li><li class="footer__item"><a href="/security/data-security-solution" class="footer__link-item" target="_blank">coScene Data Security Solution</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/coscene-io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_neYC"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.coscene.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_neYC"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 coScene</div></div></div></footer></div>
</body>
</html>