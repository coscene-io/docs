<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-use-case/data-diagnosis/add-rule" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Add Rule | coScene</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://docs.coscene.io/docs/use-case/data-diagnosis/add-rule><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Add Rule | coScene"><meta data-rh=true name=description content="Permissions: Only Project Admins and Organization Admins can manage rules. Other roles can only view rule content."><meta data-rh=true property=og:description content="Permissions: Only Project Admins and Organization Admins can manage rules. Other roles can only view rule content."><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://docs.coscene.io/docs/use-case/data-diagnosis/add-rule><link data-rh=true rel=alternate href=https://docs.coscene.io/docs/use-case/data-diagnosis/add-rule hreflang=en><link data-rh=true rel=alternate href=https://docs.coscene.io/docs/use-case/data-diagnosis/add-rule hreflang=x-default><link data-rh=true rel=preconnect href=https://1TFD6DKASB-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://docs.coscene.io/docs/category/use-case","name":"Use Cases","position":1},{"@type":"ListItem","item":"https://docs.coscene.io/docs/category/data-collection-and-diagnosis","name":"Data Collection and Diagnose","position":2},{"@type":"ListItem","item":"https://docs.coscene.io/docs/use-case/data-diagnosis/add-rule","name":"Add Rule","position":3}]}</script><link rel=search type=application/opensearchdescription+xml title=coScene href=/opensearch.xml><script src=https://plausible.io/js/script.js defer data-domain=docs.coscene.io></script><link rel=stylesheet href=/assets/css/styles.483c138d.css><script src=/assets/js/runtime~main.f6413c14.js defer></script><script src=/assets/js/main.e128397e.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/img/logo.svg><link rel=preload as=image href=/assets/images/rule-collect-setting-e2b2586782b7fa05f192de1753e62abe.png><link rel=preload as=image href=/assets/images/diagnosis-settings-30c253543d4487a5fb18d6dd4e829c4f.png><div role=region aria-label="Skip to main content"><a class=skipToContent_g25w href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.svg alt="coScene Logo" class="themedComponent__WE5 themedComponent--light_MHsR" width=135px><img src=/img/logo.svg alt="coScene Logo" class="themedComponent__WE5 themedComponent--dark_yTyE" width=135px></div><b class="navbar__title text--truncate">coScene</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/overview>Documentation</a><a class="navbar__item navbar__link" href=/changelog>Changelog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://www.coscene.io target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Homepage<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_uqr0><use href=#theme-svg-external-link /></svg></a><a href=https://github.com/coscene-io target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_uqr0><use href=#theme-svg-external-link /></svg></a><a href="https://petstore.swagger.io/?url=https://coscene-download.s3.us-east-1.amazonaws.com/openapi/openapi.yaml" target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">OpenAPI<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_uqr0><use href=#theme-svg-external-link /></svg></a><div class="toggle_VIJD colorModeToggle_Hn9K"><button class="clean-btn toggleButton_p0W5 toggleButtonDisabled_tciZ" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon__1v9 lightToggleIcon_wgYa"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon__1v9 darkToggleIcon_bV7A"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon__1v9 systemToggleIcon_sqGY"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_J7yX><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_sdsn"><div class=docsWrapper_xaJ3><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_lsQp" type=button></button><div class=docRoot_x5Hu><aside class="theme-doc-sidebar-container docSidebarContainer_rjnI"><div class=sidebarViewport_U05_><div class=sidebar_K5Hn><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Fe0x"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/overview>Overview</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/get-started/quick-start>Getting Started</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/collaboration>Collaboration</a><button aria-label="Expand sidebar category 'Collaboration'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/viz>Visualization</a><button aria-label="Expand sidebar category 'Visualization'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/device>Device Management</a><button aria-label="Expand sidebar category 'Device Management'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/workflow>Automation</a><button aria-label="Expand sidebar category 'Automation'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/sim-and-tests>Sim & Test</a><button aria-label="Expand sidebar category 'Sim & Test'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/developer>Developers</a><button aria-label="Expand sidebar category 'Developers'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/category/use-case>Use Cases</a><button aria-label="Collapse sidebar category 'Use Cases'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/use-case/common-task>General Data Collection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/use-case/automated-data-processing>Automated Data Processing</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/use-case/online-simulation-test>Cloud-Based Simulation & Automated Algorithm Verification</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/category/data-collection-and-diagnosis>Data Collection and Diagnose</a><button aria-label="Collapse sidebar category 'Data Collection and Diagnose'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/use-case/data-diagnosis/intro>About Automatic Data Collection and Diagnosis</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/use-case/data-diagnosis/get-started>Set Up Your Data Collection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/use-case/data-diagnosis/add-rule>Add Rule</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/use-case/data-diagnosis/manage-rule-group>Managing Rule</a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/use-case/heterogeneous-robot-data-factory>Heterogeneous Robot Data Collection Factory Integration with coScene Platform</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/image>Docker Images</a><button aria-label="Expand sidebar category 'Docker Images'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/client>Desktop Apps</a><button aria-label="Expand sidebar category 'Desktop Apps'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/others/browser-support>Others</a></div></ul></nav></div></div></aside><main class=docMainContainer_Sxyb><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol__VMa"><div class=docItemContainer_VcjW><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_LW7d" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_roif><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/category/use-case><span>Use Cases</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/category/data-collection-and-diagnosis><span>Data Collection and Diagnose</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Add Rule</span></ul></nav><div class="tocCollapsible_BZu_ theme-doc-toc-mobile tocMobile_iTVf"><button type=button class="clean-btn tocCollapsibleButton_nXjH">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Add Rule</h1></header>
<blockquote>
<p><strong>Permissions</strong>: Only <strong>Project Admins</strong> and <strong>Organization Admins</strong> can manage rules. Other roles can only view rule content.</p>
</blockquote>
<p>On the "Rules & matching" page of project devices, you can add rules to automatically monitor and collect data from project devices.</p>
<h2 class="anchor anchorWithStickyNavbar_DxZ9" id=specific-data-format>Specific Data Format<a href=#specific-data-format class=hash-link aria-label="Direct link to Specific Data Format" title="Direct link to Specific Data Format">​</a></h2>
<p>Platform rules only apply to data in specific formats, which must include message, timestamp, topic, and message type, and belong to streaming data.</p>
<p>The supported timestamp formats for log text files are as follows:</p>
<table><thead><tr><th>Timestamp Type<th>Timestamp Format<th>Example<tbody><tr><td>Regular file timestamp<td>%m%d %H:%M:%S.%f<td>0212 12:12:12.548513<tr><td><td>%b %d %H:%M:%S<td>Dec 12 12:12:12<tr><td><td>%Y-%m-%d %H:%M:%S.%f<td>2023-02-12 12:12:12.548513<tr><td><td>%H:%M:%S.%f<td>12:12:12.548513<tr><td>Special <em>filename / first line of the file's timestamp</em> (for cases where the year, month, day, hour, minute, and second are not fully included in the file)<td>%Y-%m-%d %H:%M:%S<td>2023-02-12 12:12:12<tr><td><td>%Y/%m/%d %H:%M:%S<td>2023/02/12 12:12:12<tr><td><td>%Y%m%d%H<td>2023021212</table>
<p>If there are other timestamp formats that need to be supported, please contact us.</p>
<h2 class="anchor anchorWithStickyNavbar_DxZ9" id=adding-rules>Adding Rules<a href=#adding-rules class=hash-link aria-label="Direct link to Adding Rules" title="Direct link to Adding Rules">​</a></h2>
<p>A rule group is a collection of rules used to categorize and manage rules. Rules define the conditions to trigger data collection and the subsequent actions.</p>
<p>Navigate to the "Device - Rules & matching" page and click <strong>Add rule group</strong>:</p>
<p><img decoding=async loading=lazy alt="Add Rule Group" src=/assets/images/add-rule-group-b4bf175259d89cf0def6ac4458043487.png width=1470 height=424 class=img_PeDu></p>
<p>Inside a rule group, you can click <strong>Create blank rule</strong> or <strong>Create from rule template</strong> to add a new rule:</p>
<p><img decoding=async loading=lazy alt="Add Rule" src=/assets/images/add-rule-ad40becec34b53eaab987f1f905be31a.png width=1470 height=415 class=img_PeDu></p>
<p>Rules consist of <strong>Basic info</strong>, <strong>Event detection</strong>, and <strong>Trigger action</strong>:</p>
<p><img decoding=async loading=lazy alt=rule-info src=/assets/images/rule-info-755fb2594e8b9ee91f7626db2cb0d24d.png width=1173 height=1184 class=img_PeDu></p>
<h2 class="anchor anchorWithStickyNavbar_DxZ9" id=event-detection>Event Detection<a href=#event-detection class=hash-link aria-label="Direct link to Event Detection" title="Direct link to Event Detection">​</a></h2>
<p>Monitor newly generated files/data. If the content matches the event condition, an event is triggered and reported. Handled content includes:</p>
<ul>
<li>
<p>Files in the device's <code>listen_dirs</code>, see <a href=/docs/device/device-collector>Device Configuration</a></p>
</li>
<li>
<p>Messages from a specific device-side topic</p>
<ul>
<li>Requires installation and activation of the ROS suite, see <a href=/docs/device/create-device>Add Device</a></li>
</ul>
</li>
<li>
<p>Files within a record</p>
<ul>
<li>Requires using the <strong>Data matching</strong> action within the record to detect events</li>
</ul>
</li>
</ul>
<p><img decoding=async loading=lazy alt="Device Event Monitoring" src=/assets/images/device-event-monitoring-0cc2b848ed491fc97df95283a2e8af64.png width=1054 height=820 class=img_PeDu></p>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=monitored-topics>Monitored Topics<a href=#monitored-topics class=hash-link aria-label="Direct link to Monitored Topics" title="Direct link to Monitored Topics">​</a></h3>
<blockquote>
<p>It’s recommended to publish all device error codes to a single topic like <code>/error_code</code> for standardized error code collection.</p>
</blockquote>
<p>The system provides two default topics:</p>
<ul>
<li><code>/error_status</code>: For use with the <strong>Error code collection rule</strong> template, see <a href=/docs/use-case/data-diagnosis/get-started>Get Started with Rule Collection</a></li>
<li><code>/external_log</code>: For handling <code>.log</code> files that meet certain conditions</li>
</ul>
<p>To configure more options, click <strong>View device configuration</strong> to go to the <a href=/docs/device/device-collector>Device Configuration</a> page.</p>
<p><img decoding=async loading=lazy alt=rule-topic src=/assets/images/rule-topic-24001dfd883c800977940ddca77846f9.png width=882 height=272 class=img_PeDu></p>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=match-event-code-table>Match Event Code Table<a href=#match-event-code-table class=hash-link aria-label="Direct link to Match Event Code Table" title="Direct link to Match Event Code Table">​</a></h3>
<p>The event code table defines event <code>code</code>, name, severity, and resolution, used for displaying event info in Moments and Records.</p>
<p><img decoding=async loading=lazy alt="Event Code Table" src="data:image/png;base64,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" width=871 height=98 class=img_PeDu>
<img decoding=async loading=lazy alt="Preview Code Table" src=/assets/images/errorcode-list-fb75c0840153d17d182fb47adaac6dad.png width=1370 height=348 class=img_PeDu></p>
<ul>
<li>
<p>The code table <strong>must contain a <code>code</code> column</strong> as the event's unique identifier. Other columns are optional.</p>
</li>
<li>
<p>After uploading the table (supports JSON or CSV), you can preview, download, or delete it.</p>
<ul>
<li>To modify, download the original, delete it from the rule, and upload the modified file.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=rule-trigger-conditions>Rule Trigger Conditions<a href=#rule-trigger-conditions class=hash-link aria-label="Direct link to Rule Trigger Conditions" title="Direct link to Rule Trigger Conditions">​</a></h3>
<p>Conditions are based on whether certain device message fields match specific values.</p>
<p>Assume topic <code>/error_status</code> with message type <code>std_msgs/String</code>, for example:</p>
<p><img decoding=async loading=lazy alt=errortopic src=/assets/images/errortopic-756ab1beb4bedfc6aa3ebad249972e13.png width=697 height=91 class=img_PeDu></p>
<ul>
<li>
<p>To detect if <code>data</code> contains any value from the event code table:</p>
<ul>
<li>Input: <code>msg.data contains the value of the code column</code></li>
</ul>
<p><img decoding=async loading=lazy alt=rule-simple src=/assets/images/rule-simple-ce236e666ee99d5dc2ffc85b5e8126b9.png width=869 height=169 class=img_PeDu></p>
</li>
<li>
<p>To detect if <code>data</code> equals a specific code <code>1001</code>:</p>
<ul>
<li>Switch to fixed value input</li>
<li>Input: <code>msg.data equals 1001</code></li>
</ul>
<p><img decoding=async loading=lazy alt=rule-simple-value src=/assets/images/rule-simple-value-28cdbf1b743925fad52acf2830d8db11.png width=877 height=171 class=img_PeDu></p>
</li>
<li>
<p>If <code>data</code> is an array and needs to check for any match with the code column:</p>
<ul>
<li>Switch to code mode</li>
<li>Input: <code>msg.data.exists(x, x.code.contains(scope.code))</code></li>
</ul>
<p><img decoding=async loading=lazy alt=rule-code_1 src=/assets/images/rule-code_1-fa8bebbb4eda5a6d372b11d67f0ba36a.png width=885 height=169 class=img_PeDu>
<img decoding=async loading=lazy alt=rule-code_2 src=/assets/images/rule-code_2-27c402403d2a16904e170bc39aeff633.png width=874 height=134 class=img_PeDu></p>
</li>
<li>
<p>To detect if a log contains keyword <code>error 1</code>:</p>
<ul>
<li>Input: <code>msg.message contains error 1</code> and select <code>/external_log</code> as the monitored topic</li>
</ul>
<p><img decoding=async loading=lazy alt=rule-simple-log src=/assets/images/rule-simple-log-0fde23f39a9ab050d36a3519109c7951.png width=883 height=171 class=img_PeDu></p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=event-deduplication-duration>Event Deduplication Duration<a href=#event-deduplication-duration class=hash-link aria-label="Direct link to Event Deduplication Duration" title="Direct link to Event Deduplication Duration">​</a></h3>
<p>If a new event (of the same type) occurs within a set time since the last event merge, it will be merged. The timer resets with each new occurrence, and final merge completes after no further events occur within the window.</p>
<ul>
<li>Supported range: 1 to 86400 seconds (1 day)</li>
</ul>
<p><img decoding=async loading=lazy alt="Event Deduplication" src="data:image/png;base64,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qhAnIiIikoVVBrm/uqxBTv56IiKj6Nj9BYa//hJdO7f/s6vzh0pJTaXPC2/QtFFdhr424HcdExxyhstXroN5MRTNiRMRERHJSUHuAfTD/p9JTEyirXlomvz1HDp8jJsRkTwe1OrPrsof6tr1m+w78AtBgQGUdHP9s6sjIiIi8pehICciIiIiImJlCjZZRkRERERERP40CnIiIiIiIiJWRkFORERERETEyijIiYiIiIiIWBkFORERERERESujICciIiIiImJlFORERERERESsjIKciIiIiIiIlVGQExERERERsTJ2RVHIjVtRREXHkJCYBCZDURQpIiIiIiJi/QwmnBwdcHdzpYynexEWazKZCnpwckoK58Ov4mjvgEcpV4zOTkVWMRERERERkb+CuPgEIiJjSExOonLFctiXKFHoMgsV5E6HXsS9pCtlPIouWYqIiIiIiPwV3YiIIup2DNX9fApdVoHnyN24FYWjvYNCnIiIiIiIyO9QxsMdR3sHbtyKKnRZBQ5yUdExeJRyLXQFRERERERE/i48SrkSFR1T6HIKHOQSEpM0J05EREREROQ+GJ2dMhaJLKSCv35Aq1OKiIiIiIjcvyLIUnqPnIiIiIiIiJVRkBMREREREbEyCnIiIiIiIiJWRkFORERERETEyijIiYiIiIiIWJk/LciZTCbOn7/A7ejoPPeJi4vn6tVrxVovERERERGRB92fEuSWLF9Do4DHadCsPb41mjFg4BCiom5bPk9ISGTwkFFUrNqI2g3a0LlbX06GnP4zqioiIiIiIvLAKfYgt2HTFgYNHsWkcW8TfvYXDh/cxtVr1xkyfKxlnxGjxrN73wEO/rCJsyf2UatGVXr0epGIyKjirq6IiIiIiMgDx2AymUwFOfDIibPU869638cFdehGp47teOO/Ay3bklNSSExMxM3VldvR0fjWaMbqpXN5LKg1ADExsVSq3oQvPptO5yfbF6S6IiIiIiIiD4SCZqmsirVHLi0tjV8PB1O9WhVGjZlIwxbt6NX3JTZt3oqbqysA4eGXAahZs7rlOFdXF5o0qkdo2IXirK6IiIiIiMgDqViD3JWr1wF4bchozl+4xJuv/4eKFbx5/t9DWb5qHQAXzUHOq4xntmP9fH04cza0OKsrIiIiIiLyQLIrzpMZDAYAoqJiWPjpDGxtbenVsyt2diWYMXM+/+zRFRcXZwDiExKxt7e3HBsbE4tXGd/irK6IiIiIiMgDqVh75Mp6lQGgbdAj2NraWrY/GhjAyVOhRMfE4FPBG4Dr129kOzb49FmqVqlcnNUVERERERF5IBVrkLOzs6VJo3qWsJbpTGgY7u6uuLq4UN67PADbduyyfB4ccorQ0HCqVFGPnIiIiIiISLEOrQQY9sZAevQZSP26/jz++KMc/u0YI9+ZzJDXXsRgMGBfogSTJ4xk2MgJ1K5Zg3LlvHh79AQCWzXlkRZNi7u6IiIiIiIiD5xiD3JBj7Zm6qRRDB72Lgx7F4CXnu/F8GGDLfv079eL4JOn6P7PAQC0DGjMjKnjsw3HFBERERER+bsq9vfIZUpMTOTS5atU8C6Ho6NjrvvExcUTGxdnmVsnIiIiIiJi7YriPXLF3iOXydHRkar5zHkzGp0xGp2LrU4iIiIiIiLWoFgXOxEREREREZHCU5ATERERERGxMgpyIiIiIiIiVkZBTkRERERExMooyImIiIiIiFiZggc5Q4HeWiAiIiIiIvL3VgRZqsBBzsnRgbj4hEJXQERERERE5O8iLj4BJ0eHQpdT4CDn7uZKRGRMoSsgIiIiIiLydxERGYO7m2uhyylwkCvj6U5ichI3IqIKXQkREREREZG/uhsRUSQmJ1HG073QZRlMJlOBB2gmp6RwPvwqjvYOeJRyxejsVOgKiYiIiIiI/JXExScQERlDYnISlSuWw75EiUKXWaggl+nGrSiiomNISEwCk6HQlRIREREREflLMJhwcnTA3c21SHri7hRbBEFOREREREREio/eIyciIiIiImJlFORERERERESsjIKciIiIiIiIlVGQExERERERsTIKciIiIiIiIlZGQU5ERERERMTKKMiJiIiIiIhYGQU5ERERERERK6MgJyIiIiIiYmUU5ERERERERKyMgpyIiIiIiIiVUZATERERERGxMv8HV42YJ7P8oocAAAAASUVORK5CYII=" width=882 height=86 class=img_PeDu></p>
<h2 class="anchor anchorWithStickyNavbar_DxZ9" id=trigger-actions>Trigger Actions<a href=#trigger-actions class=hash-link aria-label="Direct link to Trigger Actions" title="Direct link to Trigger Actions">​</a></h2>
<p>Triggered actions are executed when rule conditions are met. Includes <strong>Data collection</strong> and <strong>Key moment identification</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=data-collection>Data Collection<a href=#data-collection class=hash-link aria-label="Direct link to Data Collection" title="Direct link to Data Collection">​</a></h3>
<p>Once a rule is triggered, the device automatically collects relevant data and uploads it to the record.</p>
<p>This module defines: file time range, record info, collection limits, and more settings.</p>
<img src=/assets/images/rule-collect-setting-e2b2586782b7fa05f192de1753e62abe.png alt=rule-collect-setting width=700>
<ul>
<li>
<p><strong>Upload Time Range</strong></p>
<ul>
<li>Defines how much time before and after the trigger time to collect files.</li>
</ul>
</li>
<li>
<p><strong>Record Info</strong></p>
<ul>
<li>Set record name, description, and labels. Name/description can use variables (e.g., <code>{scope.code}</code>, see below).</li>
<li>The tag <code>uploaded</code> is automatically added once data is uploaded.</li>
</ul>
</li>
<li>
<p><strong>Collection Limits</strong></p>
<ul>
<li>Define max number of uploads per day per device or across all devices for repeated events.</li>
<li>Recommended to set limits to avoid excessive uploads.</li>
</ul>
</li>
<li>
<p><strong>More Settings</strong></p>
<ul>
<li>
<p>File Filtering:</p>
<ul>
<li>By default, all files in the data directory during the time window are uploaded.</li>
<li>Use <a href=https://www.malikbrowne.com/blog/a-beginners-guide-glob-patterns/ target=_blank rel="noopener noreferrer">glob pattern</a> to whitelist specific files.</li>
</ul>
</li>
<li>
<p>Additional Files:</p>
<ul>
<li>Specify absolute paths of extra files/folder to upload (e.g., maps, config files).</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Data collection example:</p>
<p><img decoding=async loading=lazy alt="Data Collection Config 1" src=/assets/images/data-collection-1-f407636f64d6a9e84fee1b59d19c73f2.png width=1470 height=453 class=img_PeDu></p>
<p>Data auto-uploaded to record example:</p>
<p><img decoding=async loading=lazy alt="Data Collection Config 2" src=/assets/images/data-collection-2-cd42f1d4cacd640fc747db435d3015f0.png width=1470 height=736 class=img_PeDu></p>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=key-moment-identification>Key moment identification<a href=#key-moment-identification class=hash-link aria-label="Direct link to Key moment identification" title="Direct link to Key moment identification">​</a></h3>
<p>After rule is triggered, a <strong>Moment</strong> is automatically created in the record to mark a critical time point.</p>
<ul>
<li>After collecting data into a record, a Moment is created at the trigger timestamp.</li>
<li>For manually created records, invoking the <strong>Data matching</strong> action will match against rules marked with <strong>Key moment identification</strong>.</li>
</ul>
<p>This module defines: Moment Info and Task Info</p>
<img src=/assets/images/diagnosis-settings-30c253543d4487a5fb18d6dd4e829c4f.png alt=diagnosis-settings width=700>
<ul>
<li>
<p><strong>Moment Info</strong></p>
<ul>
<li>Define name, description, and attributes of the moment. Supports variables (e.g., <code>{scope.code}</code>).</li>
</ul>
</li>
<li>
<p><strong>Task Info</strong></p>
<ul>
<li>Configure task creation, assignee, and <a href=/docs/collaboration/integration/jira-integration>syncing to ticket systems</a>.</li>
</ul>
</li>
</ul>
<p>Auto-created moment example:</p>
<p><img decoding=async loading=lazy alt="Auto Record Moment" src=/assets/images/auto-record-3-7f04b27ee9f30b84816ee17df9e53f71.png width=1470 height=585 class=img_PeDu></p>
<h2 class="anchor anchorWithStickyNavbar_DxZ9" id=rule-variables>Rule Variables<a href=#rule-variables class=hash-link aria-label="Direct link to Rule Variables" title="Direct link to Rule Variables">​</a></h2>
<p>You can use variables/expressions in rule actions to reference values at the time of the trigger.</p>
<p>Example:</p>
<ul>
<li>
<p>Event Code Table:</p>
<p><img decoding=async loading=lazy alt=errorcode-list src=/assets/images/errorcode-list-fb75c0840153d17d182fb47adaac6dad.png width=1370 height=348 class=img_PeDu></p>
</li>
<li>
<p>The triggered event is a message from the <code>/error_status</code> topic:</p>
<div class="language-text codeBlockContainer_BN1R theme-code-block" style=--prism-background-color:#282c34;--prism-color:#ffffff><div class=codeBlockContent_eUcn><pre tabindex=0 class="prism-code language-text codeBlock_jfK7 thin-scrollbar" style=background-color:#282c34;color:#ffffff><code class=codeBlockLines_Ty92><span class=token-line style=color:#ffffff><span class="token plain">{</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  "code": "1001",</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  "message": "Positioning lost",</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  "label": ["Positioning issue","Version:v1.0","Other tags"],</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  "files": ["/home/coscene/20250808_1.bag","/home/coscene/20250808_2.bag"]</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">}</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Variable reference table:</p>
<table><thead><tr><th>Variable<th>Meaning<th>Example<tbody><tr><td><code>{scope.code}</code><td>The <code>code</code> of the event from the event code table<td><code>1001</code><tr><td><code>{scope.name}</code><td>The <code>name</code> of the corresponding event<td><code>Positioning lost</code><tr><td><code>{msg}</code><td>The message content that triggered the rule<td><code>{msg}</code> represents the entire message content<tr><td><code>{msg.label}</code><td>The value of the <code>label</code> field in the message that triggered the rule<td><code>{msg.label}</code> = <code>"Positioning issue","Version:v1.0","Other tags"</code><tr><td><code>{msg.files}</code><td>The value of the <code>files</code> field in the message that triggered the rule<td><code>{msg.files}</code> = <code>"/home/coscene/20250808_1.bag","/home/coscene/20250808_2.bag"</code><tr><td><code>{topic}</code><td>The triggered topic<td><code>/error_status</code><tr><td><code>{ts}</code><td>The trigger timestamp<td><code>1751436062.133</code><tr><td><code>{timestamp(ts).format("%Y-%m-%d %H:%M:%S", "America/New_York")}</code><td>Format timestamp to New York time<td><code>2025-07-02 02:01:02</code></table>
<p><strong>Note:</strong></p>
<ul>
<li>When used in rule <strong>conditions</strong>, write the variable directly (no <code>{}</code>).</li>
<li>When used in <strong>non-conditions</strong>, like record name/description, use <code>{}</code>.</li>
<li>Expressions follow <a href=https://github.com/google/cel-spec/blob/master/doc/langdef.md target=_blank rel="noopener noreferrer">CEL syntax</a>.</li>
</ul>
<p>Example usage of rule variables:</p>
<ol>
<li>
<p><strong>Record Name</strong></p>
<ul>
<li>Input: Error Code:<code>{scope.code} @ {timestamp(ts).format("%Y-%m-%d %H:%M:%S", "Asia/Shanghai")}</code></li>
<li>Output: Error Code:1001 @ 2025-07-02 14:01:02</li>
</ul>
</li>
<li>
<p><strong>Record Description</strong></p>
<ul>
<li>Input: <code>{msg.message}</code></li>
<li>Output: Positioning lost</li>
</ul>
</li>
<li>
<p><strong>Record label</strong></p>
<ul>
<li>Input: <code>{msg.label}</code>
<ul>
<li>If the message field type is an array/single string, its content can be automatically parsed as record label</li>
</ul>
</li>
<li>Output: Positioning issue, Version<!-- -->:v1<!-- -->.0, Other tags</li>
</ul>
</li>
<li>
<p><strong>More Settings – Specific Attached Files</strong></p>
<ul>
<li>Input: <code>{msg.files}</code>
<ul>
<li>If the message field type is an array, the file list inside it can be automatically parsed as attached files for upload</li>
<li>If you only need to upload the file list defined in the message <code>{msg.files}</code>, there is no need to configure the collection path <code>collect_dirs</code> in Organization → Device → Device Configuration</li>
</ul>
</li>
<li>Output: /home/coscene/20250808_1.bag, /home/coscene/20250808_2.bag</li>
</ul>
</li>
<li>
<p><strong>Moment Name</strong></p>
<ul>
<li>Input: <code>{scope.code}-{scope.name}</code></li>
<li>Output: 1001-Positioning Lost</li>
</ul>
</li>
<li>
<p><strong>Moment Attributes</strong></p>
<ul>
<li>Input:<!-- -->
<ul>
<li>Attribute Name Input: Error Level</li>
<li>Attribute Value Input: <code>{scope.level}</code></li>
</ul>
</li>
<li>Output:<!-- -->
<ul>
<li>Attribute Name: Error Level</li>
<li>Attribute Value: P1</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=custom-functions>Custom Functions<a href=#custom-functions class=hash-link aria-label="Direct link to Custom Functions" title="Direct link to Custom Functions">​</a></h3>
<p>In addition to <a href=https://github.com/google/cel-spec/blob/master/doc/langdef.md target=_blank rel="noopener noreferrer">CEL syntax</a>, the following functions are also supported:</p>
<ul>
<li>
<p><strong>timestamp</strong> – Convert various types to timestamp</p>
<ul>
<li>
<p>Signature:</p>
<ul>
<li><code>timestamp(double) -> google.protobuf.Timestamp</code></li>
</ul>
</li>
<li>
<p>Example:</p>
<div class="language-cel codeBlockContainer_BN1R theme-code-block" style=--prism-background-color:#282c34;--prism-color:#ffffff><div class=codeBlockContent_eUcn><pre tabindex=0 class="prism-code language-cel codeBlock_jfK7 thin-scrollbar" style=background-color:#282c34;color:#ffffff><code class=codeBlockLines_Ty92><span class=token-line style=color:#ffffff><span class="token plain">timestamp(1738915780.123) -> timestamp("2025-02-07T08:09:40.123")</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
<li>
<p><strong>format</strong> – Format timestamp as a string</p>
<ul>
<li>
<p>Signature:</p>
<ul>
<li><code>google.protobuf.Timestamp.format(string) -> string</code></li>
<li><code>google.protobuf.Timestamp.format(string, string) -> string</code></li>
<li><code>google.protobuf.Timestamp.format(string, int) -> string</code></li>
</ul>
</li>
<li>
<p>Example:</p>
<div class="language-cel codeBlockContainer_BN1R theme-code-block" style=--prism-background-color:#282c34;--prism-color:#ffffff><div class=codeBlockContent_eUcn><pre tabindex=0 class="prism-code language-cel codeBlock_jfK7 thin-scrollbar" style=background-color:#282c34;color:#ffffff><code class=codeBlockLines_Ty92><span class=token-line style=color:#ffffff><span class="token plain">timestamp("2025-02-07T08:09:40.123").format("%Y-%m-%d %H:%M:%S") -> "UTC: 2025-02-07 08:09:40"</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">timestamp("2025-02-07T08:09:40.123").format("%Y-%m-%d %H:%M:%S", "America/New_York") -> "2025-02-07 04:09:40"</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">timestamp("2025-02-07T08:09:40.123").format("%Y-%m-%d %H:%M:%S", 8*60*60) -> "2025-02-07 16:09:40"</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ul>
<p><strong>Note:</strong></p>
<ul>
<li>Timestamp format strings follow <code>man 3 strftime</code> (<a href=https://linux.die.net/man/3/strftime target=_blank rel="noopener noreferrer">learn more</a>)</li>
<li>Timezones support <a href=https://en.wikipedia.org/wiki/List_of_tz_database_time_zones target=_blank rel="noopener noreferrer">IANA standard names</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_DxZ9" id=next-steps>Next Steps<a href=#next-steps class=hash-link aria-label="Direct link to Next Steps" title="Direct link to Next Steps">​</a></h2>
<ul>
<li><a href=/docs/use-case/data-diagnosis/manage-rule-group>Debug and Enable Rules</a></li>
<li><a href=/docs/device/create-device>Add Device</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col></div><div class="col lastUpdated_lYeq"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2025-08-19T12:16:10.000Z itemprop=dateModified>Aug 19, 2025</time></b> by <b>Qi He</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/use-case/data-diagnosis/get-started><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Set Up Your Data Collection</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/use-case/data-diagnosis/manage-rule-group><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Managing Rule</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_IwWT thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#specific-data-format class="table-of-contents__link toc-highlight">Specific Data Format</a><li><a href=#adding-rules class="table-of-contents__link toc-highlight">Adding Rules</a><li><a href=#event-detection class="table-of-contents__link toc-highlight">Event Detection</a><ul><li><a href=#monitored-topics class="table-of-contents__link toc-highlight">Monitored Topics</a><li><a href=#match-event-code-table class="table-of-contents__link toc-highlight">Match Event Code Table</a><li><a href=#rule-trigger-conditions class="table-of-contents__link toc-highlight">Rule Trigger Conditions</a><li><a href=#event-deduplication-duration class="table-of-contents__link toc-highlight">Event Deduplication Duration</a></ul><li><a href=#trigger-actions class="table-of-contents__link toc-highlight">Trigger Actions</a><ul><li><a href=#data-collection class="table-of-contents__link toc-highlight">Data Collection</a><li><a href=#key-moment-identification class="table-of-contents__link toc-highlight">Key moment identification</a></ul><li><a href=#rule-variables class="table-of-contents__link toc-highlight">Rule Variables</a><ul><li><a href=#custom-functions class="table-of-contents__link toc-highlight">Custom Functions</a></ul><li><a href=#next-steps class="table-of-contents__link toc-highlight">Next Steps</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Legel</div><ul class="footer__items clean-list"><li class=footer__item><a href=/legal/privacy class=footer__link-item target=_blank>Privacy Policy</a><li class=footer__item><a href=/legal/terms class=footer__link-item target=_blank>Terms of Service</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Data Security</div><ul class="footer__items clean-list"><li class=footer__item><a href=/security/security-white-paper class=footer__link-item target=_blank>coScene Data Security White Paper</a><li class=footer__item><a href=/security/data-security-solution class=footer__link-item target=_blank>coScene Data Security Solution</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/coscene-io target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_uqr0><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://www.coscene.io target=_blank rel="noopener noreferrer" class=footer__link-item>Homepage<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_uqr0><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2023 coScene</div></div></div></footer></div>