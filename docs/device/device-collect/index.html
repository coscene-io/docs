<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-device/device-collect" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Device Data Collection | coScene</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://docs.coscene.io/docs/device/device-collect><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Device Data Collection | coScene"><meta data-rh=true name=description content="The platform provides multi-mode data collection capabilities to meet various operational scenarios:"><meta data-rh=true property=og:description content="The platform provides multi-mode data collection capabilities to meet various operational scenarios:"><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://docs.coscene.io/docs/device/device-collect><link data-rh=true rel=alternate href=https://docs.coscene.io/docs/device/device-collect hreflang=en><link data-rh=true rel=alternate href=https://docs.coscene.io/docs/device/device-collect hreflang=x-default><link data-rh=true rel=preconnect href=https://1TFD6DKASB-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://docs.coscene.io/docs/category/device","name":"Device Management","position":1},{"@type":"ListItem","item":"https://docs.coscene.io/docs/device/device-collect","name":"Device Data Collection","position":2}]}</script><link rel=search type=application/opensearchdescription+xml title=coScene href=/opensearch.xml><script src=https://plausible.io/js/script.js defer data-domain=docs.coscene.io></script><link rel=stylesheet href=/assets/css/styles.483c138d.css><script src=/assets/js/runtime~main.a1f4680f.js defer></script><script src=/assets/js/main.326af2df.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/img/logo.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_g25w href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.svg alt="coScene Logo" class="themedComponent__WE5 themedComponent--light_MHsR" width=135px><img src=/img/logo.svg alt="coScene Logo" class="themedComponent__WE5 themedComponent--dark_yTyE" width=135px></div><b class="navbar__title text--truncate">coScene</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/overview>Documentation</a><a class="navbar__item navbar__link" href=/changelog>Changelog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://www.coscene.io target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Homepage<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_uqr0><use href=#theme-svg-external-link /></svg></a><a href=https://github.com/coscene-io target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_uqr0><use href=#theme-svg-external-link /></svg></a><a href="https://petstore.swagger.io/?url=https://download.coscene.io/openapi/openapi.yaml" target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">OpenAPI<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_uqr0><use href=#theme-svg-external-link /></svg></a><div class="toggle_VIJD colorModeToggle_Hn9K"><button class="clean-btn toggleButton_p0W5 toggleButtonDisabled_tciZ" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon__1v9 lightToggleIcon_wgYa"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon__1v9 darkToggleIcon_bV7A"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon__1v9 systemToggleIcon_sqGY"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_J7yX><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_sdsn"><div class=docsWrapper_xaJ3><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_lsQp" type=button></button><div class=docRoot_x5Hu><aside class="theme-doc-sidebar-container docSidebarContainer_rjnI"><div class=sidebarViewport_U05_><div class=sidebar_K5Hn><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Fe0x"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/overview>Overview</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/get-started/quick-start>Getting Started</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/collaboration>Collaboration</a><button aria-label="Expand sidebar category 'Collaboration'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/viz>Visualization</a><button aria-label="Expand sidebar category 'Visualization'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/category/device>Device Management</a><button aria-label="Collapse sidebar category 'Device Management'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/device/device>About Devices</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/device/create-device>Add Device</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/device/manage-device>Managing Devices</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/device/device-collector>Data Collection Client Configuration</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/device/device-collect>Device Data Collection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/device/device-remote-control>Remote Device Control</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/device/batch-device-operations>Batch Device Operations</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/device/change-device-guide>Device Replacement, Upgrade, and Uninstallation Guide</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/workflow>Automation</a><button aria-label="Expand sidebar category 'Automation'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/sim-and-tests>Sim & Test</a><button aria-label="Expand sidebar category 'Sim & Test'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/developer>Developers</a><button aria-label="Expand sidebar category 'Developers'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/use-case>Use Cases</a><button aria-label="Expand sidebar category 'Use Cases'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/image>Docker Images</a><button aria-label="Expand sidebar category 'Docker Images'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/client>Desktop Apps</a><button aria-label="Expand sidebar category 'Desktop Apps'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/others/browser-support>Others</a></div></ul></nav></div></div></aside><main class=docMainContainer_Sxyb><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol__VMa"><div class=docItemContainer_VcjW><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_LW7d" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_roif><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/category/device><span>Device Management</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Device Data Collection</span></ul></nav><div class="tocCollapsible_BZu_ theme-doc-toc-mobile tocMobile_iTVf"><button type=button class="clean-btn tocCollapsibleButton_nXjH">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Device Data Collection</h1></header>
<p>The platform provides multi-mode data collection capabilities to meet various operational scenarios:</p>
<ol>
<li>
<p><strong>Manual Collection</strong></p>
<ul>
<li>Specify time ranges and target paths freely</li>
<li>Use cases: Troubleshooting, targeted data capture, ad-hoc analysis</li>
</ul>
</li>
<li>
<p><strong>Rule Engine Driven Collection</strong></p>
<ul>
<li>Real-time monitoring of device message streams with dynamic triggers</li>
<li>Use cases: Event codes, threshold alerts, anomaly detection for unattended automation</li>
</ul>
</li>
<li>
<p><strong>Visualization Integrated Collection</strong></p>
<ul>
<li>Start/stop collection via real-time 3D visualization interface</li>
<li>Use cases: Scenario-based coordinated collection</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_DxZ9" id=manual-collection>Manual Collection<a href=#manual-collection class=hash-link aria-label="Direct link to Manual Collection" title="Direct link to Manual Collection">​</a></h2>
<blockquote>
<p>Prerequisite: Device registration and enabled, added to project (see <a href=/docs/device/create-device>Add Device</a>)</p>
</blockquote>
<p>Collect existing files from devices including logs, images, and configurations.</p>
<ol>
<li>
<p>Navigate to Project Devices → Select device → Click "Collect Data"</p>
<p><img decoding=async loading=lazy alt=pro-device src=/assets/images/pro-device-39ea8cf2319662363972fc0f865a8ca0.png width=1363 height=476 class=img_PeDu>
<img decoding=async loading=lazy alt=device-collect src=/assets/images/device-collect_1-04b2b407840806e5ff55c2ff177ca470.png width=1813 height=519 class=img_PeDu></p>
</li>
<li>
<p>Configure parameters:</p>
<p><img decoding=async loading=lazy alt=device-collect src=/assets/images/device-collect_2-bfe84c6ac148232b67f9ba3599b9aa4d.png width=1024 height=922 class=img_PeDu></p>
<ul>
<li>
<p><strong>Time Range</strong></p>
<ul>
<li>Based on file creation/modification timestamps (Note: Some filesystems may not provide creation time)</li>
</ul>
</li>
<li>
<p><strong>Collection Path</strong></p>
<ul>
<li>Absolute path (e.g., <code>/home/bag/</code>)</li>
<li>Recommend pre-configuring in <a href=/docs/device/device-collector#collection-rule-format-details>Device configuration</a></li>
</ul>
</li>
<li>
<p><strong>Additional Files</strong></p>
<ul>
<li>Paths to collect regardless of time (files/directories)</li>
<li>Pre-configure in <a href=/docs/device/device-collector#collection-rule-format-details>Device configuration</a></li>
</ul>
</li>
<li>
<p><strong>Naming Convention</strong></p>
<ul>
<li>Collection Name: Identifier for collection job</li>
<li>Record Name: Target storage record</li>
</ul>
</li>
</ul>
</li>
<li>
<p>During the collection process, you can view the progress in the device execution history.</p>
<p><img decoding=async loading=lazy alt=collect-progress src=/assets/images/device-collect_3-eaa4d04d633701e0ebb3b1636f978e1b.png width=1470 height=424 class=img_PeDu>
<img decoding=async loading=lazy alt=collect-progress src=/assets/images/device-collect_4-75998a2b6796ee758890327db8a2604f.png width=1470 height=794 class=img_PeDu></p>
</li>
<li>
<p>After the collection is complete, the data will be automatically uploaded to the record.</p>
<p><img decoding=async loading=lazy alt=collect-record src=/assets/images/collect-record-57bc86f2a418743fd2753d1fb97cf48d.png width=1374 height=256 class=img_PeDu>
<img decoding=async loading=lazy alt=record-file src=/assets/images/record-file-a8768be7141446b1d6acbad799e8383f.png width=1470 height=580 class=img_PeDu></p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_DxZ9" id=rule-driven-collection>Rule-Driven Collection<a href=#rule-driven-collection class=hash-link aria-label="Direct link to Rule-Driven Collection" title="Direct link to Rule-Driven Collection">​</a></h2>
<blockquote>
<p>Prerequisite: Device registration and enabled, added to project (see <a href=/docs/device/create-device>Add Device</a>)</p>
</blockquote>
<p>The system will monitor device message streams according to rules in the device's project, collecting data for a period before and after rule trigger points, such as:</p>
<ul>
<li><strong>Topic Monitoring Collection</strong>: Real-time monitoring of device topics, automatically uploading data when messages trigger rules</li>
<li><strong>Bag/MCAP Monitoring Collection</strong>: When bag/mcap writing is complete, matching rules against file content, automatically uploading data</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=data-format>Data Format<a href=#data-format class=hash-link aria-label="Direct link to Data Format" title="Direct link to Data Format">​</a></h3>
<p>See <a href=/docs/use-case/data-diagnosis/add-rule#specific-data-format>Specific Data Format</a></p>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=configure-monitoringcollection-directories>Configure Monitoring/Collection Directories<a href=#configure-monitoringcollection-directories class=hash-link aria-label="Direct link to Configure Monitoring/Collection Directories" title="Direct link to Configure Monitoring/Collection Directories">​</a></h3>
<blockquote>
<p>Only organization administrators can configure</p>
</blockquote>
<p>In Organization Management - Devices - Device Configuration, enter directories for monitoring and collection: <code>listen_dirs</code>, <code>collect_dirs</code>. To monitor topics for collection, add <code>topics</code> definition. See <a href=/docs/device/device-collector#collection-rule-format-details>Device Configuration</a></p>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=topic-monitoring-collection>Topic Monitoring Collection<a href=#topic-monitoring-collection class=hash-link aria-label="Direct link to Topic Monitoring Collection" title="Direct link to Topic Monitoring Collection">​</a></h3>
<p>Taking monitoring device topic <code>/error_status</code> as an example, when event codes <code>1001 ~ 1005</code> appear in the <code>data</code> field of this topic, automatically collect data from 5 minutes before to 1 minute after this time point, saving to a record. Message content as follows:</p>
<ol>
<li>Make sure the topic listener (<a href=https://github.com/coscene-io/coListener/tree/cpp target=_blank rel="noopener noreferrer">coListener</a>) is installed and enabled on the device. This node is part of the ROS suite. If the ROS node is already installed and running, you do not need to install it again:</li>
</ol>
<ul>
<li>
<p>See the <a href=/docs/client/apt-source-install>coListener installation guide</a></p>
</li>
<li>
<p>Enable coListener</p>
<p>ROS1:</p>
<div class="language-text codeBlockContainer_BN1R theme-code-block" style=--prism-background-color:#282c34;--prism-color:#ffffff><div class=codeBlockContent_eUcn><pre tabindex=0 class="prism-code language-text codeBlock_jfK7 thin-scrollbar" style=background-color:#282c34;color:#ffffff><code class=codeBlockLines_Ty92><span class=token-line style=color:#ffffff><span class="token plain">roslaunch colistener colistener.launch</span><br></span></code></pre></div></div>
<p>ROS2:</p>
<div class="language-text codeBlockContainer_BN1R theme-code-block" style=--prism-background-color:#282c34;--prism-color:#ffffff><div class=codeBlockContent_eUcn><pre tabindex=0 class="prism-code language-text codeBlock_jfK7 thin-scrollbar" style=background-color:#282c34;color:#ffffff><code class=codeBlockLines_Ty92><span class=token-line style=color:#ffffff><span class="token plain">ros2 launch colistener colistener.launch.xml</span><br></span></code></pre></div></div>
</li>
</ul>
<ol start=2>
<li>
<p>Add and enable rules in the project</p>
<ul>
<li>
<p>On the project's "Rule & matching" page, add rules</p>
<p><img decoding=async loading=lazy alt=add-rule_1 src=/assets/images/add-rule_1-1037bb1a5893e0fa9485e85465768567.png width=1467 height=493 class=img_PeDu>
<img decoding=async loading=lazy alt=add-rule_2 src=/assets/images/add-rule_2-11951d67639f0db608b90f558d0af4c0.png width=1112 height=928 class=img_PeDu></p>
</li>
<li>
<p>Enter event detection information</p>
<ul>
<li>
<p>Topic of interest: Select the topic to monitor <code>/error_status</code></p>
</li>
<li>
<p>Event code table: Upload a csv/json file in the correct format, used to determine if topic messages contain content from the <code>code</code> column, as shown below:</p>
<p><img decoding=async loading=lazy alt=errorcode-list src=/assets/images/errorcode-list-ac1177d7f420d14bfe170fbfbce9e532.png width=1358 height=352 class=img_PeDu></p>
</li>
<li>
<p>Rule trigger condition: msg.data contains any value from the code column in the event code table</p>
<ul>
<li>
<p>If the data field is an array, switch to "Code mode" and enter: msg.data.exists(x, x.code.contains(scope.code)).E.g.:</p>
<div class="language-text codeBlockContainer_BN1R theme-code-block" style=--prism-background-color:#282c34;--prism-color:#ffffff><div class=codeBlockContent_eUcn><pre tabindex=0 class="prism-code language-text codeBlock_jfK7 thin-scrollbar" style=background-color:#282c34;color:#ffffff><code class=codeBlockLines_Ty92><span class=token-line style=color:#ffffff><span class="token plain"> {</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 	"events_count": 3,</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 	"events_info": [{</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 			"code": "10031",</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 			"msg": "camera disconnected",</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 			"level": "p1"</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 		},</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 		{</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 			"code": "20256",</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 			"msg": "navigate to workstation failed",</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 			"level": "p2"</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 		},</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 		{</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 			"code": "30221",</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 			"msg": "low battery",</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 			"level": "p1"</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 		}</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> 	]</span><br></span><span class=token-line style=color:#ffffff><span class="token plain"> }</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ul>
<p>The above information means: Monitor topic <code>/error_status</code>, determine if keywords <code>1001 ~ 1005</code> are present in its <code>data</code> field messages</p>
</li>
<li>
<p>Collect data</p>
<ul>
<li>Time range:<!-- -->
<ul>
<li>Collect files from <code>collect_dirs</code> from 5 minutes before to 1 minute after the trigger point</li>
<li>Time determination basis: Get start and end times from file content</li>
</ul>
</li>
<li>Record: Used to identify the record where each collection's data will be saved<!-- -->
<ul>
<li>E.g.: <code>code: {scope.code}-name: {scope.name}</code>, when event code <code>1002</code> is triggered, this collection's data will generate a record named "code:1002-name<!-- -->:Target<!-- --> point unreachable! Please assist"</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Key moment positioning</p>
<ul>
<li>When data is uploaded to the record, automatically "create a moment" at the trigger point, marking the key moment for subsequent problem analysis</li>
</ul>
</li>
</ul>
</li>
<li>
<p>View collection results
When messages from the monitored topic on the device trigger rules, data will be automatically uploaded to records</p>
<p><img decoding=async loading=lazy alt=collect-record src=/assets/images/collect-record-57bc86f2a418743fd2753d1fb97cf48d.png width=1374 height=256 class=img_PeDu></p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=bagmcap-monitoring-collection>Bag/MCAP Monitoring Collection<a href=#bagmcap-monitoring-collection class=hash-link aria-label="Direct link to Bag/MCAP Monitoring Collection" title="Direct link to Bag/MCAP Monitoring Collection">​</a></h3>
<p>Same as steps 2-3 of topic monitoring collection, no need to use coListener.</p>
<p>Note: Only complete bag/mcap files are supported for monitoring. Real-time monitoring and collection of <code>.bag.active</code> files is currently unavailable. To collect complete bag files, set the data collection time range to "n minutes after collection" and initiate collection after the bag file writing process is completed.</p>
<h2 class="anchor anchorWithStickyNavbar_DxZ9" id=visualization-linked-collection>Visualization-Linked Collection<a href=#visualization-linked-collection class=hash-link aria-label="Direct link to Visualization-Linked Collection" title="Direct link to Visualization-Linked Collection">​</a></h2>
<p>See <a href=/docs/use-case/heterogeneous-robot-data-factory>Heterogeneous Robot Data Collection Factory</a></p>
<h2 class="anchor anchorWithStickyNavbar_DxZ9" id=learn-more>Learn More<a href=#learn-more class=hash-link aria-label="Direct link to Learn More" title="Direct link to Learn More">​</a></h2>
<ul>
<li><a href=/docs/use-case/data-diagnosis/add-rule>Adding Rules</a></li>
<li><a href=/docs/viz/about-viz>Visualize data playback</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col></div><div class="col lastUpdated_lYeq"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2025-07-31T03:11:11.000Z itemprop=dateModified>Jul 31, 2025</time></b> by <b>Yujing Zheng</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/device/device-collector><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Data Collection Client Configuration</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/device/device-remote-control><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Remote Device Control</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_IwWT thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#manual-collection class="table-of-contents__link toc-highlight">Manual Collection</a><li><a href=#rule-driven-collection class="table-of-contents__link toc-highlight">Rule-Driven Collection</a><ul><li><a href=#data-format class="table-of-contents__link toc-highlight">Data Format</a><li><a href=#configure-monitoringcollection-directories class="table-of-contents__link toc-highlight">Configure Monitoring/Collection Directories</a><li><a href=#topic-monitoring-collection class="table-of-contents__link toc-highlight">Topic Monitoring Collection</a><li><a href=#bagmcap-monitoring-collection class="table-of-contents__link toc-highlight">Bag/MCAP Monitoring Collection</a></ul><li><a href=#visualization-linked-collection class="table-of-contents__link toc-highlight">Visualization-Linked Collection</a><li><a href=#learn-more class="table-of-contents__link toc-highlight">Learn More</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Legel</div><ul class="footer__items clean-list"><li class=footer__item><a href=/legal/privacy class=footer__link-item target=_blank>Privacy Policy</a><li class=footer__item><a href=/legal/terms class=footer__link-item target=_blank>Terms of Service</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Data Security</div><ul class="footer__items clean-list"><li class=footer__item><a href=/security/security-white-paper class=footer__link-item target=_blank>coScene Data Security White Paper</a><li class=footer__item><a href=/security/data-security-solution class=footer__link-item target=_blank>coScene Data Security Solution</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/coscene-io target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_uqr0><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://www.coscene.io target=_blank rel="noopener noreferrer" class=footer__link-item>Homepage<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_uqr0><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2023 coScene</div></div></div></footer></div>