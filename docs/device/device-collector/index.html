<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-device/device-collector" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Data Collection Client Configuration | coScene</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://docs.coscene.io/docs/device/device-collector><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Data Collection Client Configuration | coScene"><meta data-rh=true name=description content="Devices with granted access can automatically upload data to projects according to data collection rules. Collection rules apply to all devices using a shared configuration. If you need to divide collection rules by project, please refer to About Automatic Data Collection and Diagnostics to use the rule engine to meet your requirements."><meta data-rh=true property=og:description content="Devices with granted access can automatically upload data to projects according to data collection rules. Collection rules apply to all devices using a shared configuration. If you need to divide collection rules by project, please refer to About Automatic Data Collection and Diagnostics to use the rule engine to meet your requirements."><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://docs.coscene.io/docs/device/device-collector><link data-rh=true rel=alternate href=https://docs.coscene.io/docs/device/device-collector hreflang=en><link data-rh=true rel=alternate href=https://docs.coscene.io/docs/device/device-collector hreflang=x-default><link data-rh=true rel=preconnect href=https://1TFD6DKASB-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://docs.coscene.io/docs/category/device","name":"Device Management","position":1},{"@type":"ListItem","item":"https://docs.coscene.io/docs/device/device-collector","name":"Data Collection Client Configuration","position":2}]}</script><link rel=search type=application/opensearchdescription+xml title=coScene href=/opensearch.xml><script src=https://plausible.io/js/script.js defer data-domain=docs.coscene.io></script><link rel=stylesheet href=/assets/css/styles.483c138d.css><script src=/assets/js/runtime~main.f6413c14.js defer></script><script src=/assets/js/main.e128397e.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/img/logo.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_g25w href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.svg alt="coScene Logo" class="themedComponent__WE5 themedComponent--light_MHsR" width=135px><img src=/img/logo.svg alt="coScene Logo" class="themedComponent__WE5 themedComponent--dark_yTyE" width=135px></div><b class="navbar__title text--truncate">coScene</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/overview>Documentation</a><a class="navbar__item navbar__link" href=/changelog>Changelog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://www.coscene.io target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Homepage<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_uqr0><use href=#theme-svg-external-link /></svg></a><a href=https://github.com/coscene-io target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_uqr0><use href=#theme-svg-external-link /></svg></a><a href="https://petstore.swagger.io/?url=https://coscene-download.s3.us-east-1.amazonaws.com/openapi/openapi.yaml" target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">OpenAPI<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_uqr0><use href=#theme-svg-external-link /></svg></a><div class="toggle_VIJD colorModeToggle_Hn9K"><button class="clean-btn toggleButton_p0W5 toggleButtonDisabled_tciZ" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon__1v9 lightToggleIcon_wgYa"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon__1v9 darkToggleIcon_bV7A"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon__1v9 systemToggleIcon_sqGY"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_J7yX><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_sdsn"><div class=docsWrapper_xaJ3><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_lsQp" type=button></button><div class=docRoot_x5Hu><aside class="theme-doc-sidebar-container docSidebarContainer_rjnI"><div class=sidebarViewport_U05_><div class=sidebar_K5Hn><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Fe0x"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/overview>Overview</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/get-started/quick-start>Getting Started</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/collaboration>Collaboration</a><button aria-label="Expand sidebar category 'Collaboration'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/viz>Visualization</a><button aria-label="Expand sidebar category 'Visualization'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/category/device>Device Management</a><button aria-label="Collapse sidebar category 'Device Management'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/device/device>About Devices</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/device/create-device>Add Device</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/device/manage-device>Managing Devices</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/device/device-collector>Data Collection Client Configuration</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/device/device-collect>Device Data Collection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/device/device-remote-control>Remote Device Control</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/device/batch-device-operations>Batch Device Operations</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/device/change-device-guide>Device Replacement, Upgrade, and Uninstallation Guide</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/workflow>Automation</a><button aria-label="Expand sidebar category 'Automation'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/sim-and-tests>Sim & Test</a><button aria-label="Expand sidebar category 'Sim & Test'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/developer>Developers</a><button aria-label="Expand sidebar category 'Developers'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/use-case>Use Cases</a><button aria-label="Expand sidebar category 'Use Cases'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/image>Docker Images</a><button aria-label="Expand sidebar category 'Docker Images'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/category/client>Desktop Apps</a><button aria-label="Expand sidebar category 'Desktop Apps'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/others/browser-support>Others</a></div></ul></nav></div></div></aside><main class=docMainContainer_Sxyb><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol__VMa"><div class=docItemContainer_VcjW><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_LW7d" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_roif><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/category/device><span>Device Management</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Data Collection Client Configuration</span></ul></nav><div class="tocCollapsible_BZu_ theme-doc-toc-mobile tocMobile_iTVf"><button type=button class="clean-btn tocCollapsibleButton_nXjH">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Data Collection Client Configuration</h1></header>
<blockquote>
<p>Devices with granted access can automatically upload data to projects according to data collection rules. Collection rules apply to all devices using a shared configuration. If you need to divide collection rules by project, please refer to <a href=/docs/use-case/data-diagnosis/intro>About Automatic Data Collection and Diagnostics</a> to use the rule engine to meet your requirements.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_DxZ9" id=about-data-collection-client-configuration>About Data Collection Client Configuration<a href=#about-data-collection-client-configuration class=hash-link aria-label="Direct link to About Data Collection Client Configuration" title="Direct link to About Data Collection Client Configuration">​</a></h2>
<div style="padding:12px 16px;background-color:#EFF6FF;border-radius:4px;border:1px solid;border-color:#2563EB;color:#111827"><p style=margin:0>🤖 Permission: Only <strong>Organization Administrators</strong> can edit collection rules, which apply uniformly to all organization devices</div>
<br>
<p>Data collection configuration is managed by organization administrators and applies to devices with installed data collection clients within the organization. These devices automatically monitor data based on collection rules, and all organization devices share one set of collection configurations.</p>
<p>If you need to divide collection rules by project, please refer to <a href=/docs/use-case/data-diagnosis/intro>About Automatic Data Collection and Diagnostics</a> to use the rule engine to meet your requirements.</p>
<p>During collection configuration, you need to define key information such as device ID location, device monitoring directory, client initialization monitoring time range, collection directory, rule trigger topics, and client auto-update mechanism. After device access is granted, it will actively pull the organization's configured collection rule information and run dynamically on the machine end accordingly.</p>
<h2 class="anchor anchorWithStickyNavbar_DxZ9" id=entry>Entry<a href=#entry class=hash-link aria-label="Direct link to Entry" title="Direct link to Entry">​</a></h2>
<p>On the "Devices" tab of the organization management page, click the [Device Configuration] button to enter the data collection client configuration editing interface. YAML language is used for editing here.</p>
<p><img decoding=async loading=lazy alt=org-device src=/assets/images/4-3-org-collector-d340ad553e371c5b25adfa348669f683.png width=1863 height=302 class=img_PeDu></p>
<p>After completing the configuration, click [Save], and the configuration will take effect immediately for all organization devices with granted collection client access.</p>
<p><img decoding=async loading=lazy alt=org-dev-rule-save src=/assets/images/4-3-device-save-collector-2a1bcb019c8e46677dc29ad7ff36ad1b.png width=1847 height=895 class=img_PeDu></p>
<h2 class="anchor anchorWithStickyNavbar_DxZ9" id=collection-rule-format-details>Collection Rule Format Details<a href=#collection-rule-format-details class=hash-link aria-label="Direct link to Collection Rule Format Details" title="Direct link to Collection Rule Format Details">​</a></h2>
<p>Collection rules primarily configure 4 modules:</p>
<table><thead><tr><th>Module Name<th>Function Description<tbody><tr><td>Data Collector Settings (collector)<td>Check if the same file exists in the cloud before uploading data<tr><td>Storage Settings (mod)<td>Device ID storage location; monitoring directory; client initialization monitoring time range; collection directory<tr><td>Device Event Properties (device)<td>Event attribute values<tr><td>Rule Trigger Topics (topic)<td>Rule trigger topics</table>
<p>Example template as follows:</p>
<div class="language-yaml codeBlockContainer_BN1R theme-code-block" style=--prism-background-color:#282c34;--prism-color:#ffffff><div class=codeBlockContent_eUcn><pre tabindex=0 class="prism-code language-yaml codeBlock_jfK7 thin-scrollbar" style=background-color:#282c34;color:#ffffff><code class=codeBlockLines_Ty92><span class=token-line style=color:#ffffff><span class="token key atrule" style=color:#FAC863>collector</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  </span><span class="token key atrule" style=color:#FAC863>skip_check_same_file</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> </span><span class="token boolean important" style=color:#ff8b50;font-weight:400>false</span><span class="token plain"> </span><span class="token comment" style=color:#999999># By default, checks if a file with the same sha256 exists in the cloud. If it exists, skips upload and directly references the cloud file to avoid duplicate uploads</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token key atrule" style=color:#FAC863>mod</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  </span><span class="token comment" style=color:#999999># mod name, default is 'default'</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  </span><span class="token key atrule" style=color:#FAC863>name</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> </span><span class="token string" style=color:#8dc891>'default'</span><span class="token plain"> </span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  </span><span class="token key atrule" style=color:#FAC863>conf</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># Enable switch, true/false, enabled by default</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>enabled</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> </span><span class="token boolean important" style=color:#ff8b50;font-weight:400>true</span><span class="token plain"> </span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># Assuming there's a file /home/coscene/example.yaml on the machine side with content:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># serial_num: 1234</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999>#</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># The corresponding configuration will read the value of the serial_num field (1234) from example.yaml as the machine's unique identifier during the machine registration phase</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>sn_file</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> /home/coscene/example.yaml</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>sn_field</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> serial_num</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># (Used for rule-based collection) Monitoring directories on the device side, used as the monitoring directories for rules in the project</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>listen_dirs</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> </span><br></span><span class=token-line style=color:#ffffff><span class="token plain">      </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> /home/bag/</span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># (Used for rule-based collection) When the current time exceeds the file update time by more than {skip_period_hours} hours, the file will not be monitored</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>skip_period_hours</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> </span><span class="token number" style=color:#5a9bcf>2</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># (Used for rule-based & manual collection) Collection directories on the device side, used as specified directories for data collection tasks and rule collection in the project</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>collect_dirs</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> </span><br></span><span class=token-line style=color:#ffffff><span class="token plain">      </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> /home/bag/</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">      </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> /home/log/</span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># (Used for rule-based collection) Recursive directory traversal setting - whether to traverse all nested subdirectories for listen_dirs and collect_dirs, defaults to false</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>recursively_walk_dirs</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> </span><span class="token boolean important" style=color:#ff8b50;font-weight:400>false</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># (Used for manual collection) Additional files to upload during manual collection tasks - supports both folders and files with absolute paths; supports time variable templates</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>additional_files</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">      </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> /home/just2004noetic/Downloads/testcase</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">      </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> /additional_files/</span><span class="token punctuation" style=color:#8dc891>{</span><span class="token punctuation" style=color:#8dc891>{</span><span class="token plain">start_time.format('YYYY</span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain">MM</span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain">DD')</span><span class="token punctuation" style=color:#8dc891>}</span><span class="token punctuation" style=color:#8dc891>}</span><span class="token plain">/log/</span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999># (Used for rule-based collection) Assuming the machine has a /home/coscene/device.yaml file with the following content:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999># soft_version: v1.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999>#</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999># When the device triggers a rule, it will read the value of soft_version: v1.0 from the device.yaml file as an attribute for the generated event.</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999># To view the event statistics panel, please contact coScene</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token key atrule" style=color:#FAC863>device</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  </span><span class="token key atrule" style=color:#FAC863>extra_files</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> /home/coscene/device1.yaml</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> /home/coscene/device2.yaml</span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999># (Used for rule-based collection) Topics, used as the source of options for rule trigger topics in the project to narrow down the scope of rule matching</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999># Assuming there's an /error_code topic</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token key atrule" style=color:#FAC863>topics</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> /error_code</span><br></span></code></pre></div></div>
<p>Let's go through each function and its usage:</p>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=data-collector-settings-collector>Data Collector Settings (collector)<a href=#data-collector-settings-collector class=hash-link aria-label="Direct link to Data Collector Settings (collector)" title="Direct link to Data Collector Settings (collector)">​</a></h3>
<p>This module is used to set whether to check the data to be uploaded. Files with the same sha256 will be skipped and directly referenced to the cloud file, reducing the amount of data uploaded and improving data collection efficiency.</p>
<div class="language-yaml codeBlockContainer_BN1R theme-code-block" style=--prism-background-color:#282c34;--prism-color:#ffffff><div class=codeBlockContent_eUcn><pre tabindex=0 class="prism-code language-yaml codeBlock_jfK7 thin-scrollbar" style=background-color:#282c34;color:#ffffff><code class=codeBlockLines_Ty92><span class=token-line style=color:#ffffff><span class="token key atrule" style=color:#FAC863>collector</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  </span><span class="token key atrule" style=color:#FAC863>skip_check_same_file</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> </span><span class="token boolean important" style=color:#ff8b50;font-weight:400>false</span><span class="token plain"> </span><span class="token comment" style=color:#999999># By default, checks if a file with the same sha256 exists in the cloud. If it exists, skips upload and directly references the cloud file to avoid duplicate uploads</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=storage-settings-mod>Storage Settings (mod)<a href=#storage-settings-mod class=hash-link aria-label="Direct link to Storage Settings (mod)" title="Direct link to Storage Settings (mod)">​</a></h3>
<p>Mainly responsible for configuring device-end data storage location information:</p>
<ul>
<li>
<p><code>name</code>: Default name is <code>default</code>, supports monitoring files in specified device directories. For custom monitoring methods, please contact coScene.</p>
</li>
<li>
<p><code>enabled</code>: Enable switch, <code>true/false</code>, enabled by default.</p>
</li>
<li>
<p><code>sn_file</code>: Assuming there's a corresponding file on the machine end (e.g., <code>/home/coscene/example.yaml</code>) containing a unique device identifier (e.g., <code>serial_num: 1234</code>), during machine registration, it will read the specified field value (<code>1234</code>) as the machine's unique identifier.</p>
</li>
<li>
<p><code>sn_field</code>: Corresponding identifier field name.</p>
</li>
<li>
<p><code>listen_dirs</code>: (Used for rule-based collection) Device monitoring directories, used as rule monitoring directories in projects.</p>
</li>
<li>
<p><code>skip_period_hours</code>: (Used for rule-based collection) Files won't be monitored when the time difference between current time and file update time exceeds <code>{skip_period_hours}</code>.</p>
</li>
<li>
<p><code>recursively_walk_dirs</code>: (Used for rule-based collection) Whether to traverse files in nested subdirectories when monitoring and collection directories contain subdirectories. Defaults to false, only reads files in the current directory level.</p>
</li>
<li>
<p><code>collect_dirs</code>: Device collection directories, used as specified directories for project data collection tasks and rule collection.</p>
</li>
<li>
<p><code>additional_files</code>:</p>
<ul>
<li>Used for manual collection</li>
<li>Optional field</li>
<li>During manual collection tasks, supports collecting additional file information (such as maps, logs, etc.). Supports both folder and file absolute paths. Folders will be recursively traversed for all subfiles.</li>
<li>Paths support template variables, such as <code>/home/{{start_time.format('YYYY-MM-DD')}}/log/</code>. Template variables will be replaced with corresponding collection task time information during collection tasks. Variables will be dynamically updated based on the selected collection start and end times. For specific syntax, please refer to <a href=#template-syntax-usage>Template Syntax Usage</a></li>
</ul>
</li>
</ul>
<div class="language-yaml codeBlockContainer_BN1R theme-code-block" style=--prism-background-color:#282c34;--prism-color:#ffffff><div class=codeBlockContent_eUcn><pre tabindex=0 class="prism-code language-yaml codeBlock_jfK7 thin-scrollbar" style=background-color:#282c34;color:#ffffff><code class=codeBlockLines_Ty92><span class=token-line style=color:#ffffff><span class="token key atrule" style=color:#FAC863>mod</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  </span><span class="token comment" style=color:#999999># mod name, default is 'default'</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  </span><span class="token key atrule" style=color:#FAC863>name</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> </span><span class="token string" style=color:#8dc891>'default'</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  </span><span class="token key atrule" style=color:#FAC863>conf</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># Enable switch, true/false, enabled by default</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>enabled</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> </span><span class="token boolean important" style=color:#ff8b50;font-weight:400>true</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># Assuming there's a file /home/coscene/example.yaml on the machine end with content:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># serial_num: 1234</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999>#</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># Then during machine registration, it will read the serial_num field value (1234) from example.yaml as the machine's unique identifier</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>sn_file</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> /home/coscene/example.yaml</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>sn_field</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> serial_num</span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># (Used for rule-based collection) Device monitoring directories, used as rule monitoring directories in projects</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>listen_dirs</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">      </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> /home/bag/</span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># (Used for rule-based collection) Files won't be monitored/collected when the time difference between current time and file update time exceeds {skip_period_hours}</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>skip_period_hours</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> </span><span class="token number" style=color:#5a9bcf>2</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># Device collection directories, used as specified directories for project data collection tasks and rule collection</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>collect_dirs</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">      </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> /home/bag/</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">      </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> /home/log/</span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># (Used for rule-based collection) Recursively traverse all subdirectories under /home/bag/ and /home/log/</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>recursively_walk_dirs</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"> </span><span class="token boolean important" style=color:#ff8b50;font-weight:400>false</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token comment" style=color:#999999># (Used for manual collection) For manual collection task starting at 2025-06-27 14:00:00, additionally upload all files from /home/just2004noetic/Downloads/testcase and /home/2025-06-27/log directories, including subdirectories</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token key atrule" style=color:#FAC863>additional_files</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">      </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> /home/just2004noetic/Downloads/testcase</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">      </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> /home/</span><span class="token punctuation" style=color:#8dc891>{</span><span class="token punctuation" style=color:#8dc891>{</span><span class="token plain">start_time.format('YYYY</span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain">MM</span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain">DD')</span><span class="token punctuation" style=color:#8dc891>}</span><span class="token punctuation" style=color:#8dc891>}</span><span class="token plain">/log/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=device-event-properties-device>Device Event Properties (device)<a href=#device-event-properties-device class=hash-link aria-label="Direct link to Device Event Properties (device)" title="Direct link to Device Event Properties (device)">​</a></h3>
<p>Assuming there's a specific file on the machine end (e.g., <code>/home/coscene/device.yaml</code> with content <code>soft_version: v1.0</code>), after device rule triggering, it will read the specified content (e.g., <code>soft_version: v1.0</code>) as the generated event's attribute value. Additional related files can be configured through <code>extra_files</code>.</p>
<div class="language-yaml codeBlockContainer_BN1R theme-code-block" style=--prism-background-color:#282c34;--prism-color:#ffffff><div class=codeBlockContent_eUcn><pre tabindex=0 class="prism-code language-yaml codeBlock_jfK7 thin-scrollbar" style=background-color:#282c34;color:#ffffff><code class=codeBlockLines_Ty92><span class=token-line style=color:#ffffff><span class="token comment" style=color:#999999># (Used for rule-based collection) Assuming there's a file /home/coscene/device.yaml on the machine end with content:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999># soft_version: v1.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999>#</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999># After device rule triggering, it will read soft_version: v1.0 from device.yaml as the generated event's attribute value</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999># To view the event statistics panel, please contact coScene</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token key atrule" style=color:#FAC863>device</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  </span><span class="token key atrule" style=color:#FAC863>extra_files</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> /home/coscene/device1.yaml</span><br></span><span class=token-line style=color:#ffffff><span class="token plain">    </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> /home/coscene/device2.yaml</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=rule-trigger-topics-topic>Rule Trigger Topics (topic)<a href=#rule-trigger-topics-topic class=hash-link aria-label="Direct link to Rule Trigger Topics (topic)" title="Direct link to Rule Trigger Topics (topic)">​</a></h3>
<p>Topics serve as options for rule trigger topics in projects, helping narrow down rule matching scope and improve monitoring efficiency. For example, assuming there's an <code>error_code</code> topic:</p>
<div class="language-yaml codeBlockContainer_BN1R theme-code-block" style=--prism-background-color:#282c34;--prism-color:#ffffff><div class=codeBlockContent_eUcn><pre tabindex=0 class="prism-code language-yaml codeBlock_jfK7 thin-scrollbar" style=background-color:#282c34;color:#ffffff><code class=codeBlockLines_Ty92><span class=token-line style=color:#ffffff><span class="token comment" style=color:#999999># (Used for rule-based collection) Topics serve as options for rule trigger topics in projects to narrow down rule matching scope</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999># Assuming there's an error_code topic</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token key atrule" style=color:#FAC863>topics</span><span class="token punctuation" style=color:#8dc891>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain">  </span><span class="token punctuation" style=color:#8dc891>-</span><span class="token plain"> error_code</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_DxZ9" id=template-syntax-usage>Template Syntax Usage<a href=#template-syntax-usage class=hash-link aria-label="Direct link to Template Syntax Usage" title="Direct link to Template Syntax Usage">​</a></h2>
<p>Template syntax is a powerful tool for dynamically generating strings, particularly suitable for dynamically generating file paths and filenames based on time ranges. Based on the <a href=https://handlebarsjs.com/ target=_blank rel="noopener noreferrer">Handlebars</a> template engine, integrated with the <a href=https://day.js.org/ target=_blank rel="noopener noreferrer">Day.js</a> time processing library.</p>
<p>By mastering these template syntaxes, you can easily create dynamic file paths and filenames, greatly improving the flexibility and automation of data management.</p>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=supported-variables>Supported Variables<a href=#supported-variables class=hash-link aria-label="Direct link to Supported Variables" title="Direct link to Supported Variables">​</a></h3>
<p>Currently supports the following two time variables:</p>
<ul>
<li><code>start_time</code> - The start time of the current collection task</li>
<li><code>end_time</code> - The end time of the current collection task</li>
</ul>
<p>Basic template format:</p>
<div class="language-text codeBlockContainer_BN1R theme-code-block" style=--prism-background-color:#282c34;--prism-color:#ffffff><div class=codeBlockContent_eUcn><pre tabindex=0 class="prism-code language-text codeBlock_jfK7 thin-scrollbar" style=background-color:#282c34;color:#ffffff><code class=codeBlockLines_Ty92><span class=token-line style=color:#ffffff><span class="token plain">{{variable_name.format('format_string')}}</span><br></span></code></pre></div></div>
<p>Examples:</p>
<div class="language-javascript codeBlockContainer_BN1R theme-code-block" style=--prism-background-color:#282c34;--prism-color:#ffffff><div class=codeBlockContent_eUcn><pre tabindex=0 class="prism-code language-javascript codeBlock_jfK7 thin-scrollbar" style=background-color:#282c34;color:#ffffff><code class=codeBlockLines_Ty92><span class=token-line style=color:#ffffff><span class="token comment" style=color:#999999>// Basic usage</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token string" style=color:#8dc891>'{{start_time.format("YYYY-MM-DD")}}'</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999>// Output: "2021-01-01"</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999>// Combined usage</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token string" style=color:#8dc891>'data/{{start_time.format("YYYY")}}/{{start_time.format("MM")}}/file.log'</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999>// Output: "data/2021/01/file.log"</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=time-formatting>Time Formatting<a href=#time-formatting class=hash-link aria-label="Direct link to Time Formatting" title="Direct link to Time Formatting">​</a></h3>
<p>Based on <a href=https://day.js.org/docs/en/display/format target=_blank rel="noopener noreferrer">Day.js formatting documentation</a>, supports the following formats:</p>
<table><thead><tr><th>Format<th>Output<th>Description<tbody><tr><td><code>YYYY</code><td>2021<td>4-digit year<tr><td><code>YY</code><td>21<td>2-digit year<tr><td><code>MM</code><td>01-12<td>Month (zero-padded)<tr><td><code>M</code><td>1-12<td>Month<tr><td><code>DD</code><td>01-31<td>Date (zero-padded)<tr><td><code>D</code><td>1-31<td>Date<tr><td><code>HH</code><td>00-23<td>Hour (zero-padded)<tr><td><code>H</code><td>0-23<td>Hour<tr><td><code>mm</code><td>00-59<td>Minute (zero-padded)<tr><td><code>m</code><td>0-59<td>Minute<tr><td><code>ss</code><td>00-59<td>Second (zero-padded)<tr><td><code>s</code><td>0-59<td>Second</table>
<p>Formatting examples:</p>
<div class="language-javascript codeBlockContainer_BN1R theme-code-block" style=--prism-background-color:#282c34;--prism-color:#ffffff><div class=codeBlockContent_eUcn><pre tabindex=0 class="prism-code language-javascript codeBlock_jfK7 thin-scrollbar" style=background-color:#282c34;color:#ffffff><code class=codeBlockLines_Ty92><span class=token-line style=color:#ffffff><span class="token comment" style=color:#999999>// Date formats</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token string" style=color:#8dc891>'{{start_time.format("YYYY-MM-DD")}}'</span><span class="token plain">          </span><span class="token comment" style=color:#999999>// 2021-01-01</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token string" style=color:#8dc891>'{{start_time.format("YYYY/MM/DD")}}'</span><span class="token plain">          </span><span class="token comment" style=color:#999999>// 2021/01/01</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token string" style=color:#8dc891>'{{start_time.format("MM-DD-YYYY")}}'</span><span class="token plain">          </span><span class="token comment" style=color:#999999>// 01-01-2021</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999>// Time formats</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token string" style=color:#8dc891>'{{start_time.format("HH:mm:ss")}}'</span><span class="token plain">            </span><span class="token comment" style=color:#999999>// 10:30:00</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token string" style=color:#8dc891>'{{start_time.format("HH-mm")}}'</span><span class="token plain">               </span><span class="token comment" style=color:#999999>// 10-30</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999>// Combined formats</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token string" style=color:#8dc891>'{{start_time.format("YYYY-MM-DD HH:mm:ss")}}'</span><span class="token plain"> </span><span class="token comment" style=color:#999999>// 2021-01-01 10:30:00</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token string" style=color:#8dc891>'{{start_time.format("YYYYMMDD_HHmmss")}}'</span><span class="token plain">     </span><span class="token comment" style=color:#999999>// 20210101_103000</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999>// Folder structure organized by year/month/day</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token string" style=color:#8dc891>'logs/{{start_time.format("YYYY")}}/{{start_time.format("MM")}}/{{start_time.format("DD")}}'</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999>// Output: logs/2021/01/01</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999>// Time range folders</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token string" style=color:#8dc891>'data/{{start_time.format("YYYY-MM-DD")}}_to_{{end_time.format("YYYY-MM-DD")}}'</span><span class="token plain"></span><br></span><span class=token-line style=color:#ffffff><span class="token plain"></span><span class="token comment" style=color:#999999>// Output: data/2021-01-01_to_2021-01-02</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_DxZ9" id=reference-documentation>Reference Documentation<a href=#reference-documentation class=hash-link aria-label="Direct link to Reference Documentation" title="Direct link to Reference Documentation">​</a></h3>
<ul>
<li><a href=https://handlebarsjs.com/guide/ target=_blank rel="noopener noreferrer">Handlebars Official Documentation</a></li>
<li><a href=https://day.js.org/docs/en/display/format target=_blank rel="noopener noreferrer">Day.js Official Documentation</a></li>
<li><a href=https://day.js.org/docs/en/display/format#list-of-all-available-formats target=_blank rel="noopener noreferrer">Day.js Formatting Options</a></li>
</ul>
<hr>
<p>Through these detailed steps and instructions, administrators can comprehensively and accurately configure the device data collection client, ensuring efficient operation of device data collection.</p>
<p>If you have any questions, please feel free to contact us for support.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col></div><div class="col lastUpdated_lYeq"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2025-08-19T12:16:10.000Z itemprop=dateModified>Aug 19, 2025</time></b> by <b>Qi He</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/device/manage-device><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Managing Devices</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/device/device-collect><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Device Data Collection</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_IwWT thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#about-data-collection-client-configuration class="table-of-contents__link toc-highlight">About Data Collection Client Configuration</a><li><a href=#entry class="table-of-contents__link toc-highlight">Entry</a><li><a href=#collection-rule-format-details class="table-of-contents__link toc-highlight">Collection Rule Format Details</a><ul><li><a href=#data-collector-settings-collector class="table-of-contents__link toc-highlight">Data Collector Settings (collector)</a><li><a href=#storage-settings-mod class="table-of-contents__link toc-highlight">Storage Settings (mod)</a><li><a href=#device-event-properties-device class="table-of-contents__link toc-highlight">Device Event Properties (device)</a><li><a href=#rule-trigger-topics-topic class="table-of-contents__link toc-highlight">Rule Trigger Topics (topic)</a></ul><li><a href=#template-syntax-usage class="table-of-contents__link toc-highlight">Template Syntax Usage</a><ul><li><a href=#supported-variables class="table-of-contents__link toc-highlight">Supported Variables</a><li><a href=#time-formatting class="table-of-contents__link toc-highlight">Time Formatting</a><li><a href=#reference-documentation class="table-of-contents__link toc-highlight">Reference Documentation</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Legel</div><ul class="footer__items clean-list"><li class=footer__item><a href=/legal/privacy class=footer__link-item target=_blank>Privacy Policy</a><li class=footer__item><a href=/legal/terms class=footer__link-item target=_blank>Terms of Service</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Data Security</div><ul class="footer__items clean-list"><li class=footer__item><a href=/security/security-white-paper class=footer__link-item target=_blank>coScene Data Security White Paper</a><li class=footer__item><a href=/security/data-security-solution class=footer__link-item target=_blank>coScene Data Security Solution</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/coscene-io target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_uqr0><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://www.coscene.io target=_blank rel="noopener noreferrer" class=footer__link-item>Homepage<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_uqr0><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2023 coScene</div></div></div></footer></div>