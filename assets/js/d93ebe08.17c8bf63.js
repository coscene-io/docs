"use strict";(self.webpackChunk_coscene_io_docs=self.webpackChunk_coscene_io_docs||[]).push([["818"],{38416:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>a,default:()=>h,toc:()=>d,metadata:()=>s,assets:()=>c,contentTitle:()=>o});var s=JSON.parse('{"id":"viz/extensions/api/entry-point/extension-context","title":"ExtensionContext","description":"The first parameter of the activate function is ExtensionContext \u2014 this context allows you to extend the visualization to support custom workflows.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/viz/8-extensions/5-api/2-entry-point/1-extension-context.md","sourceDirName":"viz/8-extensions/5-api/2-entry-point","slug":"/viz/extensions/api/entry-point/extension-context","permalink":"/docs/viz/extensions/api/entry-point/extension-context","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"Qi He","lastUpdatedAt":1755605770000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"\u5165\u53E3","permalink":"/docs/category/extensions/entry-point"},"next":{"title":"ExtensionModule","permalink":"/docs/viz/extensions/api/entry-point/extension-module"}}'),i=t(96773),r=t(68502);let a={sidebar_position:1},o="ExtensionContext",c={},d=[{value:"Methods",id:"methods",level:2},{value:"registerPanel()",id:"registerpanel",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"registerMessageConverter()",id:"registermessageconverter",level:3},{value:"Type Parameters",id:"type-parameters",level:4},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"registerTopicAliases()",id:"registertopicaliases",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"Returns",id:"returns-2",level:4}];function l(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"extensioncontext",children:"ExtensionContext"})}),"\n",(0,i.jsxs)(n.p,{children:["The first parameter of the ",(0,i.jsx)(n.code,{children:"activate"})," function is ",(0,i.jsx)(n.code,{children:"ExtensionContext"})," \u2014 this context allows you to extend the visualization to support custom workflows."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"export function activate(extensionContext: ExtensionContext) {\n  // ... call methods on extensionContext to extend the visualization\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(n.h3,{id:"registerpanel",children:"registerPanel()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"registerPanel(params): void\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"registerPanel"})," adds a new panel to the visualization interface. To register a panel, you need to provide a ",(0,i.jsx)(n.code,{children:"name"})," and an ",(0,i.jsx)(n.code,{children:"initPanel"})," function."]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"initPanel"})," function accepts a ",(0,i.jsx)(n.code,{children:"PanelExtensionContext"})," parameter, which contains properties and methods for accessing panel data and rendering UI updates. It also returns an optional cleanup function that runs when the extension ",(0,i.jsx)(n.code,{children:"panelElement"})," is unmounted."]}),"\n",(0,i.jsxs)(n.p,{children:["For more information, see the ",(0,i.jsx)(n.a,{href:"/docs/viz/extensions/guides/create-custom-panel",children:"Creating Custom Panels"})," guide."]}),"\n",(0,i.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"params"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"/docs/viz/extensions/api/custom-panels/extension-panel-registration",children:"ExtensionPanelRegistration"})})]})})]}),"\n",(0,i.jsx)(n.h4,{id:"returns",children:"Returns"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"void"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"registermessageconverter",children:"registerMessageConverter()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"registerMessageConverter<Src>(args): void\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"registerMessageConverter"})," registers a function to convert messages from one schema to another."]}),"\n",(0,i.jsxs)(n.p,{children:["Message converters allow you to leverage the visualization's built-in visualization panels by converting messages to formats that match the schemas supported by the visualization \u2014 for example, you can convert custom GPS messages to ",(0,i.jsx)(n.code,{children:"foxglove.LocationFix"})," messages for visualization in the map panel."]}),"\n",(0,i.jsxs)(n.p,{children:["The converter function runs on the original message and outputs the converted message whenever a panel subscribes to a topic using the ",(0,i.jsx)(n.code,{children:"convertTo"})," option. The converted message is then provided to the panel. If the function returns ",(0,i.jsx)(n.code,{children:"undefined"}),", the output is ignored and no message is provided to the panel. This is useful when you want to selectively output converted messages based on the content of the input message."]}),"\n",(0,i.jsxs)(n.p,{children:["For more information, see the ",(0,i.jsx)(n.a,{href:"/docs/viz/extensions/guides/create-message-converter",children:"Creating Message Converters"})," guide."]}),"\n",(0,i.jsx)(n.h4,{id:"type-parameters",children:"Type Parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsx)(n.tr,{children:(0,i.jsx)(n.th,{children:"Type Parameter"})})}),(0,i.jsx)(n.tbody,{children:(0,i.jsx)(n.tr,{children:(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Src"})})})})]}),"\n",(0,i.jsx)(n.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"args"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.a,{href:"/docs/viz/extensions/api/custom-panels/extension-panel-registration",children:"RegisterMessageConverterArgs"}),(0,i.jsx)(n.code,{children:"\\<Src\\>"})]})]})})]}),"\n",(0,i.jsx)(n.h4,{id:"returns-1",children:"Returns"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"void"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"registertopicaliases",children:"registerTopicAliases()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"registerTopicAliases(aliasFunction): void\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"registerTopicAliases"})," registers a function to compute topic aliases. The provided alias function should accept a parameter containing two fields \u2014 ",(0,i.jsx)(n.code,{children:"topics"})," (containing the data source's original topics) and ",(0,i.jsx)(n.code,{children:"globalVariables"})," (containing the current layout's variables) \u2014 and return a list of alias topics."]}),"\n",(0,i.jsx)(n.p,{children:"Your alias function runs whenever the data source topics or variables change. Any aliases it returns are added to the data source topics (replacing any previously returned aliases) and can be used for subscriptions or in message paths just like real topics."}),"\n",(0,i.jsx)(n.h4,{id:"parameters-2",children:"Parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"aliasFunction"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"/docs/viz/extensions/api/topic-aliases/topic-alias-function",children:"TopicAliasFunction"})})]})})]}),"\n",(0,i.jsx)(n.h4,{id:"returns-2",children:"Returns"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"void"})})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},68502:function(e,n,t){t.d(n,{Z:()=>o,a:()=>a});var s=t(41699);let i={},r=s.createContext(i);function a(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);