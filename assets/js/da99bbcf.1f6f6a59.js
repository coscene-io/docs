"use strict";(self.webpackChunk_coscene_io_docs=self.webpackChunk_coscene_io_docs||[]).push([[3663],{42648:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"viz/extensions/api/custom-panels/subscription","title":"Subscription","description":"A Subscription represents a connection to a data source for receiving messages on a specific topic.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/viz/8-extensions/5-api/3-custom-panels/17-subscription.md","sourceDirName":"viz/8-extensions/5-api/3-custom-panels","slug":"/viz/extensions/api/custom-panels/subscription","permalink":"/docs/viz/extensions/api/custom-panels/subscription","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"Yujing Zheng","lastUpdatedAt":1747064612000,"sidebarPosition":17,"frontMatter":{"sidebar_position":17},"sidebar":"tutorialSidebar","previous":{"title":"SubscribeMessageRangeArgs","permalink":"/docs/viz/extensions/api/custom-panels/subscribe-message-range-args"},"next":{"title":"\u6d88\u606f\u8f6c\u6362\u5668","permalink":"/docs/category/extensions/message-converters"}}');var i=n(25105),r=n(73331);const o={sidebar_position:17},c="Subscription",a={},l=[{value:"Methods",id:"methods",level:2},{value:"unsubscribe()",id:"unsubscribe",level:3},{value:"Returns",id:"returns",level:4},{value:"Example",id:"example",level:2},{value:"Remarks",id:"remarks",level:2},{value:"Properties",id:"properties",level:2},{value:"topic",id:"topic",level:3},{value:"convertTo?",id:"convertto",level:3},{value:"<del>preload?</del>",id:"preload",level:3},{value:"Deprecated",id:"deprecated",level:4}];function d(e){const s={code:"code",del:"del",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"subscription",children:"Subscription"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-typescript",children:"type Subscription = object;\n"})}),"\n",(0,i.jsx)(s.p,{children:"A Subscription represents a connection to a data source for receiving messages on a specific topic."}),"\n",(0,i.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(s.h3,{id:"unsubscribe",children:"unsubscribe()"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-typescript",children:"unsubscribe(): void\n"})}),"\n",(0,i.jsx)(s.p,{children:"Unsubscribes from the topic, stopping the flow of messages."}),"\n",(0,i.jsx)(s.h4,{id:"returns",children:"Returns"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.code,{children:"void"})}),"\n",(0,i.jsx)(s.h2,{id:"example",children:"Example"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-typescript",children:"// Subscribe to a topic\nconst subscription = context.subscribe(['/robot/status']);\n\n// Later, unsubscribe when you no longer need the data\nsubscription.unsubscribe();\n"})}),"\n",(0,i.jsx)(s.h2,{id:"remarks",children:"Remarks"}),"\n",(0,i.jsxs)(s.p,{children:["Subscriptions are created using the ",(0,i.jsx)(s.code,{children:"PanelExtensionContext.subscribe()"})," method. The returned subscription object can be used to unsubscribe when the panel no longer needs to receive updates on that topic."]}),"\n",(0,i.jsx)(s.p,{children:"Make sure to unsubscribe from topics when your panel is unmounted or when you no longer need the data to avoid memory leaks and unnecessary processing."}),"\n",(0,i.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,i.jsx)(s.h3,{id:"topic",children:"topic"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-typescript",children:"topic: string;\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"convertto",children:"convertTo?"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-typescript",children:"optional convertTo: string;\n"})}),"\n",(0,i.jsx)(s.p,{children:"If a topic has an additional schema name, specifying the schema name will use the registered message converter to convert messages on that topic to the convertTo schema. The MessageEvents for this subscription will include the converted message and an originalMessageEvent field containing the original message event."}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"preload",children:(0,i.jsx)(s.del,{children:"preload?"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-typescript",children:"optional preload: boolean;\n"})}),"\n",(0,i.jsxs)(s.p,{children:["Setting preload to ",(0,i.jsx)(s.em,{children:"true"})," hints to the data source that it should attempt to load all available messages for the topic. The default behavior is to only load messages for the current frame."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Only"})," topics with ",(0,i.jsx)(s.code,{children:"preload: true"})," can be used in the ",(0,i.jsx)(s.code,{children:"allFrames"})," render state."]}),"\n",(0,i.jsx)(s.h4,{id:"deprecated",children:"Deprecated"}),"\n",(0,i.jsxs)(s.p,{children:["Please use ",(0,i.jsx)(s.code,{children:"PanelExtensionContext.subscribeMessageRange"})," instead."]})]})}function p(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},73331:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>c});var t=n(58101);const i={},r=t.createContext(i);function o(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);